{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "extends": [
        "config:recommended",
        "docker:enableMajor",
        ":dependencyDashboard",
        ":semanticCommits",
        ":automergeMinor",
        ":automergeDigest",
        "group:allNonMajor"
    ],
    "labels": [
        "dependencies"
    ],
    "platformAutomerge": true,
    "automergeType": "pr",
    "prHourlyLimit": 5,
    "prConcurrentLimit": 10,
    "baseBranches": [
        "main"
    ],
    "ignorePaths": [
        "**/vendor/**"
    ],
    "packageRules": [
        {
            "description": "Auto-merge patch updates",
            "matchUpdateTypes": [
                "patch",
                "pin",
                "digest"
            ],
            "automerge": true
        },
        {
            "description": "Auto-merge minor updates for trusted packages",
            "matchUpdateTypes": [
                "minor"
            ],
            "matchPackagePatterns": [
                "^golang",
                "^alpine"
            ],
            "automerge": true
        },
        {
            "description": "Group Go module updates",
            "matchManagers": [
                "gomod"
            ],
            "groupName": "Go modules",
            "groupSlug": "go-modules"
        },
        {
            "description": "Group GitHub Actions updates",
            "matchManagers": [
                "github-actions"
            ],
            "groupName": "GitHub Actions",
            "groupSlug": "github-actions"
        },
        {
            "description": "Group Docker updates",
            "matchManagers": [
                "dockerfile"
            ],
            "groupName": "Docker",
            "groupSlug": "docker"
        },
        {
            "description": "Require approval for major updates",
            "matchUpdateTypes": [
                "major"
            ],
            "automerge": false,
            "labels": [
                "dependencies",
                "major"
            ]
        }
    ],
    "gomod": {
        "enabled": true,
        "postUpdateOptions": [
            "gomodTidy",
            "gomodUpdateImportPaths"
        ]
    },
    "dockerfile": {
        "enabled": true,
        "fileMatch": [
            "(^|/)Dockerfile[^/]*$"
        ]
    },
    "github-actions": {
        "enabled": true,
        "fileMatch": [
            "^\\.github/workflows/[^/]+\\.ya?ml$"
        ]
    },
    "vulnerabilityAlerts": {
        "enabled": true,
        "labels": [
            "security"
        ]
    },
    "schedule": [
        "before 6am on monday"
    ]
}