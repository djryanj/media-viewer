{"config":{"lang":["en"],"separator":"[\\s\\-,:!=$$()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Media Viewer","text":"<p>Media Viewer is a self-hosted web application for browsing, organizing, and viewing your personal media collection. It provides a responsive gallery interface that works seamlessly across desktop and mobile devices, with support for images, videos, and playlists.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Gallery Browsing: Navigate your media library with an intuitive grid-based interface</li> <li>Infinite Scroll: Seamlessly browse large libraries with automatic pagination</li> <li>Tagging System: Organize media with custom tags for easy categorization and retrieval</li> <li>Favorites: Mark frequently accessed items for quick access</li> <li>Search: Full-text fuzzy search by name, tag, or file type with suggestions</li> <li>Playlists: Create and play video playlists</li> <li>Progressive Web App: Install on mobile devices for a native app experience</li> <li>Responsive Design: Optimized for desktop, tablet, and mobile viewing</li> <li>Video Transcoding: Automatic transcoding for browser compatibility</li> <li>Thumbnail Generation: Fast thumbnail generation with incremental updates</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Installation Guide - Get Media Viewer running on your server</li> <li>Quick Start - Learn the basics in five minutes</li> <li>User Guide - Comprehensive usage documentation</li> <li>Keyboard Shortcuts - Speed up your workflow</li> </ul>"},{"location":"#system-requirements","title":"System Requirements","text":""},{"location":"#production-docker-recommended","title":"Production (Docker - Recommended)","text":"<ul> <li>Docker and Docker Compose</li> <li>Modern web browser (Chrome 90+, Firefox 88+, Safari 14+, Edge 90+)</li> <li>Sufficient storage for media files and thumbnail cache</li> </ul>"},{"location":"#production-from-source","title":"Production (From Source)","text":"<ul> <li>Go 1.21 or later</li> <li>FFmpeg (for video transcoding and thumbnail generation)</li> <li>GCC (for SQLite CGO compilation)</li> <li>Modern web browser (Chrome 90+, Firefox 88+, Safari 14+, Edge 90+)</li> <li>Sufficient storage for media files and thumbnail cache</li> </ul>"},{"location":"#development","title":"Development","text":"<ul> <li>All production requirements (from source)</li> <li>Node.js 18+ (for frontend tooling: linting, formatting, live reload)</li> <li>Make (optional, for build automation)</li> </ul> <p>Note: Node.js is only required for development. The frontend is static HTML/CSS/JavaScript and does not require a Node.js runtime in production.</p>"},{"location":"#support","title":"Support","text":"<p>For bug reports and feature requests, visit the GitHub Issues page.</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>Solutions to common issues with Media Viewer.</p>"},{"location":"troubleshooting/#login-issues","title":"Login Issues","text":""},{"location":"troubleshooting/#cannot-log-in","title":"Cannot Log In","text":"<p>Symptoms: Password is rejected even though it's correct.</p> <p>Solutions:</p> <ol> <li>Check that the <code>PASSWORD</code> environment variable is set correctly</li> <li>Ensure there are no extra spaces or quotes in the password</li> <li>Passwords are case-sensitive</li> <li>Try restarting the container</li> </ol>"},{"location":"troubleshooting/#session-expires-quickly","title":"Session Expires Quickly","text":"<p>Symptoms: Frequently logged out while actively using the application.</p> <p>Solutions:</p> <ol> <li>Increase <code>SESSION_DURATION</code> in your configuration</li> <li>Check for network issues that might interrupt keepalive requests</li> <li>Ensure your browser accepts cookies</li> </ol>"},{"location":"troubleshooting/#display-issues","title":"Display Issues","text":""},{"location":"troubleshooting/#thumbnails-not-loading","title":"Thumbnails Not Loading","text":"<p>Symptoms: Gallery shows placeholder icons instead of thumbnails.</p> <p>Solutions:</p> <ol> <li>Wait for thumbnail generation (first load takes time)</li> <li>Check that the data directory is writable</li> <li>Clear and rebuild thumbnails using the cache button</li> <li>Check server logs for errors</li> </ol>"},{"location":"troubleshooting/#gallery-is-empty","title":"Gallery Is Empty","text":"<p>Symptoms: No items appear in the gallery.</p> <p>Solutions:</p> <ol> <li>Verify the media directory is mounted correctly</li> <li>Check that media files have supported extensions</li> <li>Verify file permissions allow reading</li> <li>Check server logs for indexing errors</li> </ol>"},{"location":"troubleshooting/#layout-issues-on-mobile","title":"Layout Issues on Mobile","text":"<p>Symptoms: Interface doesn't display correctly on mobile devices.</p> <p>Solutions:</p> <ol> <li>Ensure you're using a supported browser</li> <li>Try clearing browser cache</li> <li>Disable browser extensions that might interfere</li> <li>Check if zoom is enabled and reset to 100%</li> </ol>"},{"location":"troubleshooting/#performance-issues","title":"Performance Issues","text":""},{"location":"troubleshooting/#slow-gallery-loading","title":"Slow Gallery Loading","text":"<p>Symptoms: Gallery takes a long time to load.</p> <p>Solutions:</p> <ol> <li>Large directories load slower; consider organizing into subfolders</li> <li>Check network connection speed</li> <li>Thumbnails generate on first view; subsequent loads are faster</li> <li>Consider increasing server resources</li> </ol>"},{"location":"troubleshooting/#high-memory-usage","title":"High Memory Usage","text":"<p>Symptoms: Server uses excessive memory.</p> <p>Solutions:</p> <ol> <li>Very large libraries require more memory for indexing</li> <li>Set memory limits in Docker configuration</li> <li>Restart the container to clear memory</li> </ol>"},{"location":"troubleshooting/#video-playback-issues","title":"Video Playback Issues","text":"<p>Symptoms: Videos don't play or buffer slowly.</p> <p>Solutions:</p> <ol> <li>Check that the video format is supported</li> <li>Verify network bandwidth is sufficient</li> <li>Large video files may buffer slowly on slow connections</li> <li>Try a different browser</li> </ol>"},{"location":"troubleshooting/#data-issues","title":"Data Issues","text":""},{"location":"troubleshooting/#tags-not-saving","title":"Tags Not Saving","text":"<p>Symptoms: Added tags disappear after refresh.</p> <p>Solutions:</p> <ol> <li>Check that the data directory is writable</li> <li>Verify the database file isn't corrupted</li> <li>Check server logs for database errors</li> <li>Ensure sufficient disk space</li> </ol>"},{"location":"troubleshooting/#favorites-not-persisting","title":"Favorites Not Persisting","text":"<p>Symptoms: Favorites disappear after restart.</p> <p>Solutions:</p> <ol> <li>Ensure the data volume is properly mounted</li> <li>Check that the volume persists between container restarts</li> <li>Verify database file permissions</li> </ol>"},{"location":"troubleshooting/#search-not-finding-items","title":"Search Not Finding Items","text":"<p>Symptoms: Search returns no results for items that exist.</p> <p>Solutions:</p> <ol> <li>Wait for indexing to complete after adding new files</li> <li>Check the exact spelling (search is case-insensitive but exact)</li> <li>For tag search, use the <code>tag:</code> prefix</li> <li>Try rebuilding the index by restarting the server</li> </ol>"},{"location":"troubleshooting/#installation-issues","title":"Installation Issues","text":""},{"location":"troubleshooting/#container-wont-start","title":"Container Won't Start","text":"<p>Symptoms: Docker container exits immediately.</p> <p>Solutions:</p> <ol> <li>Check logs: <code>docker logs media-viewer</code></li> <li>Verify the <code>PASSWORD</code> environment variable is set</li> <li>Ensure ports aren't already in use</li> <li>Check volume mount paths exist</li> </ol>"},{"location":"troubleshooting/#permission-denied-errors","title":"Permission Denied Errors","text":"<p>Symptoms: Errors about file permissions in logs.</p> <p>Solutions:</p> <ol> <li>Check ownership of mounted directories</li> <li>Ensure the container user can read media files</li> <li>Ensure the container user can write to the data directory</li> <li>On Linux, check SELinux or AppArmor policies</li> </ol>"},{"location":"troubleshooting/#port-already-in-use","title":"Port Already in Use","text":"<p>Symptoms: Error binding to port 8080.</p> <p>Solutions:</p> <ol> <li>Change the port mapping: <code>-p 3000:8080</code></li> <li>Find and stop the conflicting service</li> <li>Use <code>netstat</code> or <code>lsof</code> to identify what's using the port</li> </ol>"},{"location":"troubleshooting/#pwa-issues","title":"PWA Issues","text":""},{"location":"troubleshooting/#pwa-wont-install","title":"PWA Won't Install","text":"<p>Symptoms: No install option appears in browser.</p> <p>Solutions:</p> <ol> <li>PWA requires HTTPS (except localhost)</li> <li>Clear browser cache and try again</li> <li>Check browser compatibility</li> <li>Ensure the manifest file loads correctly</li> </ol>"},{"location":"troubleshooting/#pwa-shows-old-content","title":"PWA Shows Old Content","text":"<p>Symptoms: Updates aren't reflected in the installed PWA.</p> <p>Solutions:</p> <ol> <li>Close and reopen the PWA</li> <li>Clear PWA data in device settings</li> <li>Uninstall and reinstall the PWA</li> </ol>"},{"location":"troubleshooting/#getting-help","title":"Getting Help","text":"<p>If these solutions don't resolve your issue:</p> <ol> <li>Check the GitHub Issues for similar problems</li> <li>Search closed issues for solutions</li> <li>Open a new issue with:<ul> <li>Detailed description of the problem</li> <li>Steps to reproduce</li> <li>Server logs (if applicable)</li> <li>Browser and device information</li> </ul> </li> </ol>"},{"location":"admin/environment-variables/","title":"Environment Variables","text":"<p>Complete reference for all environment variables supported by Media Viewer.</p>"},{"location":"admin/environment-variables/#authentication","title":"Authentication","text":""},{"location":"admin/environment-variables/#password","title":"PASSWORD","text":"<p>All users share this single password. Choose a strong, unique password.</p>"},{"location":"admin/environment-variables/#session_duration","title":"SESSION_DURATION","text":"<p>Session timeout in milliseconds.</p> <pre><code>SESSION_DURATION=3600000\n</code></pre> <ul> <li>Default: <code>3600000</code> (1 hour)</li> <li>Minimum recommended: <code>300000</code> (5 minutes)</li> <li>Maximum recommended: <code>86400000</code> (24 hours)</li> </ul> <p>Users must re-authenticate after this period of inactivity. Active usage resets the timer.</p>"},{"location":"admin/environment-variables/#paths","title":"Paths","text":""},{"location":"admin/environment-variables/#media_path","title":"MEDIA_PATH","text":"<p>Path to the media directory inside the container.</p> <pre><code>MEDIA_PATH=/media\n</code></pre> <ul> <li>Default: <code>/media</code></li> <li>Should match your volume mount</li> </ul>"},{"location":"admin/environment-variables/#data_path","title":"DATA_PATH","text":"<p>Path where application data is stored.</p> <pre><code>DATA_PATH=/app/data\n</code></pre> <ul> <li>Default: <code>/app/data</code></li> <li>Must be writable</li> <li>Should be persisted via volume mount</li> </ul>"},{"location":"admin/environment-variables/#network","title":"Network","text":""},{"location":"admin/environment-variables/#port","title":"PORT","text":"<p>Port the application listens on.</p> <pre><code>PORT=8080\n</code></pre> <ul> <li>Default: <code>8080</code></li> <li>Change if running multiple instances or if port conflicts exist</li> </ul>"},{"location":"admin/environment-variables/#example-configurations","title":"Example Configurations","text":""},{"location":"admin/environment-variables/#standard","title":"Standard","text":"<pre><code>SESSION_DURATION=5m\n</code></pre>"},{"location":"admin/environment-variables/#custom-paths","title":"Custom Paths","text":"<pre><code>MEDIA_PATH=/data/photos\nDATA_PATH=/var/lib/media-viewer\nPORT=3000\n</code></pre>"},{"location":"admin/environment-variables/#docker-compose","title":"Docker Compose","text":"<pre><code>environment:\n    - SESSION_DURATION=5m\n    - MEDIA_PATH=/media\n    - DATA_PATH=/app/data\n    - PORT=8080\n</code></pre> <p>Using environment file:</p> <pre><code>env_file:\n    - .env\n</code></pre> <p><code>.env</code> file:</p> <pre><code>SESSION_DURATION=5m\n</code></pre>"},{"location":"admin/security/","title":"Security","text":"<p>This guide covers security considerations for deploying Media Viewer.</p>"},{"location":"admin/security/#authentication","title":"Authentication","text":""},{"location":"admin/security/#password-protection","title":"Password Protection","text":"<p>Media Viewer uses a single user account with password authentication.</p> <p>Best practices:</p> <ul> <li>Use a strong, unique password (12+ characters)</li> <li>Include mixed case, numbers, and symbols</li> <li>Do not reuse passwords from other services</li> <li>Change the password periodically</li> </ul>"},{"location":"admin/security/#webauthnpasskey-authentication","title":"WebAuthn/Passkey Authentication","text":"<p>When WebAuthn is enabled, users can authenticate with:</p> <ul> <li>Biometric authentication (Face ID, Touch ID, Windows Hello)</li> <li>Security keys (YubiKey, Titan, etc.)</li> </ul> <p>Security benefits:</p> <ul> <li>Phishing-resistant (keys are cryptographically bound to your domain)</li> <li>No password to steal or guess</li> <li>User verification required (biometric or PIN)</li> <li>Private keys never leave the user's device</li> </ul> <p>Requirements:</p> <ul> <li>HTTPS (except <code>http://localhost</code> for development)</li> <li>Properly configured RP ID matching your domain</li> <li>Modern browser with WebAuthn support</li> </ul>"},{"location":"admin/security/#session-management","title":"Session Management","text":"<p>Sessions expire after the configured duration (default: 24 hours) with sliding expiration.</p> <ul> <li>Active usage extends session lifetime via keepalive</li> <li>Closing the browser does not immediately end the session</li> <li>Sessions are stored server-side with SHA-256 hashed tokens</li> <li>Sessions are invalidated on password change</li> </ul>"},{"location":"admin/security/#changing-password","title":"Changing Password","text":"<p>Users can change the password from the Settings modal:</p> <ol> <li>Open Settings (\u2699\ufe0f icon)</li> <li>Navigate to Security tab</li> <li>Enter current password</li> <li>Enter and confirm new password</li> <li>Click Update Password</li> </ol> <p>Note: Changing the password invalidates all existing sessions on all devices.</p>"},{"location":"admin/security/#network-security","title":"Network Security","text":""},{"location":"admin/security/#https","title":"HTTPS","text":"<p>Always use HTTPS in production to protect:</p> <ul> <li>Password transmission during login</li> <li>Session cookies</li> <li>Media content in transit</li> <li>WebAuthn ceremonies</li> </ul> <p>Using a reverse proxy:</p> <pre><code>server {\n    listen 443 ssl http2;\n    server_name media.example.com;\n\n    ssl_certificate /path/to/cert.pem;\n    ssl_certificate_key /path/to/key.pem;\n\n    # Modern SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers HIGH:!aNULL:!MD5;\n    ssl_prefer_server_ciphers on;\n\n    location / {\n        proxy_pass http://localhost:8080;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n\n        # Increase timeouts for video streaming\n        proxy_read_timeout 300s;\n        proxy_send_timeout 300s;\n    }\n}\n</code></pre>"},{"location":"admin/security/#firewall","title":"Firewall","text":"<p>Restrict access to trusted networks:</p> <ul> <li>Do not expose directly to the internet without HTTPS</li> <li>Consider VPN access for remote viewing</li> <li>Use firewall rules to limit source IPs if possible</li> </ul>"},{"location":"admin/security/#rate-limiting","title":"Rate Limiting","text":"<p>Consider adding rate limiting at the reverse proxy level:</p> <pre><code># Limit login attempts\nlimit_req_zone $binary_remote_addr zone=login:10m rate=5r/m;\n\nlocation /api/auth/login {\n    limit_req zone=login burst=3 nodelay;\n    proxy_pass http://localhost:8080;\n}\n</code></pre>"},{"location":"admin/security/#file-system-security","title":"File System Security","text":""},{"location":"admin/security/#read-only-media-mount","title":"Read-Only Media Mount","text":"<p>Mount your media directory as read-only:</p> <pre><code>-v /path/to/media:/media:ro\n</code></pre> <p>This prevents the application from modifying your original files.</p>"},{"location":"admin/security/#cache-directory-permissions","title":"Cache Directory Permissions","text":"<p>The cache directory requires write access but should be restricted:</p> <pre><code># Create dedicated directory\nmkdir -p /var/lib/media-viewer/cache\nchown 1000:1000 /var/lib/media-viewer/cache\nchmod 700 /var/lib/media-viewer/cache\n</code></pre>"},{"location":"admin/security/#database-directory-permissions","title":"Database Directory Permissions","text":"<p>The database directory requires write access and contains sensitive data:</p> <pre><code># Create dedicated directory\nmkdir -p /var/lib/media-viewer/database\nchown 1000:1000 /var/lib/media-viewer/database\nchmod 700 /var/lib/media-viewer/database\n</code></pre>"},{"location":"admin/security/#container-security","title":"Container Security","text":""},{"location":"admin/security/#non-root-user","title":"Non-Root User","text":"<p>The container runs as a non-root user by default (UID 1000).</p>"},{"location":"admin/security/#resource-limits","title":"Resource Limits","text":"<p>Set resource limits to prevent resource exhaustion:</p> <pre><code>services:\n    media-viewer:\n        # ...\n        deploy:\n            resources:\n                limits:\n                    memory: 512M\n                    cpus: '1.0'\n                reservations:\n                    memory: 256M\n                    cpus: '0.5'\n</code></pre>"},{"location":"admin/security/#network-isolation","title":"Network Isolation","text":"<p>Use Docker networks to isolate the container:</p> <pre><code>services:\n    media-viewer:\n        # ...\n        networks:\n            - media-internal\n\nnetworks:\n    media-internal:\n        internal: true # No external access\n</code></pre> <p>Or allow external access only through a reverse proxy:</p> <pre><code>networks:\n    media-internal:\n        internal: false\n    reverse-proxy:\n        external: true\n\nservices:\n    media-viewer:\n        networks:\n            - media-internal\n\n    nginx:\n        networks:\n            - media-internal\n            - reverse-proxy\n</code></pre>"},{"location":"admin/security/#security-scanning","title":"Security Scanning","text":"<p>Scan the container image for vulnerabilities:</p> <pre><code># Using Trivy\ndocker run --rm -v /var/run/docker.sock:/var/run/docker.sock \\\n  aquasec/trivy image ghcr.io/djryanj/media-viewer:latest\n\n# Using Docker Scout\ndocker scout cves ghcr.io/djryanj/media-viewer:latest\n</code></pre>"},{"location":"admin/security/#data-protection","title":"Data Protection","text":""},{"location":"admin/security/#backup","title":"Backup","text":"<p>Regularly backup the database directory:</p> <ul> <li>Database contains tags, favorites, user data, and sessions</li> <li>Thumbnails can be regenerated if lost</li> <li>Transcoded videos can be regenerated if lost</li> </ul> <pre><code># Automated backup script\n#!/bin/bash\nBACKUP_DIR=/backups/media-viewer\nDATE=$(date +%Y%m%d-%H%M%S)\n\ndocker run --rm \\\n  -v media-database:/source:ro \\\n  -v $BACKUP_DIR:/backup \\\n  alpine tar czf /backup/database-$DATE.tar.gz -C /source .\n\n# Keep only last 30 days\nfind $BACKUP_DIR -name \"database-*.tar.gz\" -mtime +30 -delete\n</code></pre>"},{"location":"admin/security/#encryption-at-rest","title":"Encryption at Rest","text":"<p>For sensitive media, consider:</p> <ul> <li>Encrypted file systems for media storage (LUKS, VeraCrypt)</li> <li>Encrypted volumes for the database directory</li> <li>Hardware-level encryption (self-encrypting drives)</li> </ul>"},{"location":"admin/security/#security-checklist","title":"Security Checklist","text":"<ul> <li> Strong, unique password configured</li> <li> HTTPS enabled via reverse proxy</li> <li> Media mounted read-only</li> <li> Cache and database directories have restricted permissions</li> <li> Firewall limits access to trusted networks</li> <li> Regular backups configured</li> <li> Resource limits set</li> <li> Network isolation configured (optional)</li> <li> WebAuthn/passkeys enabled (optional but recommended)</li> <li> Security scanning performed on container images</li> <li> Logs monitored for suspicious activity</li> </ul>"},{"location":"admin/security/#incident-response","title":"Incident Response","text":"<p>If you suspect unauthorized access:</p> <ol> <li>Immediately change the password via Settings or <code>resetpw</code> tool</li> <li>Check sessions in the database: <code>SELECT * FROM sessions;</code></li> <li>Invalidate all sessions: <code>DELETE FROM sessions;</code></li> <li>Review logs for suspicious activity</li> <li>Check for unexpected changes to favorites or tags</li> <li>Review WebAuthn credentials if enabled (Settings \u2192 Passkeys)</li> <li>Consider rotating encryption keys if using encrypted storage</li> </ol>"},{"location":"admin/security/#reporting-security-issues","title":"Reporting Security Issues","text":"<p>If you discover a security vulnerability, please report it privately to the maintainers via GitHub Security Advisories rather than creating a public issue.</p>"},{"location":"admin/server-config/","title":"Server Configuration","text":"<p>This guide covers server-side configuration and deployment considerations for Media Viewer.</p>"},{"location":"admin/server-config/#directory-structure","title":"Directory Structure","text":"<p>Media Viewer uses three primary directories:</p>"},{"location":"admin/server-config/#media-directory","title":"Media Directory","text":"<p>The read-only directory containing your media files.</p> <ul> <li>Default path: <code>/media</code></li> <li>Configure with: <code>MEDIA_DIR</code> environment variable</li> <li>Mount as read-only for security: <code>-v /path/to/media:/media:ro</code></li> </ul> <p>Supported file types:</p> Type Extensions Images <code>.jpg</code>, <code>.jpeg</code>, <code>.png</code>, <code>.gif</code>, <code>.webp</code>, <code>.bmp</code>, <code>.svg</code>, <code>.ico</code>, <code>.tiff</code>, <code>.heic</code>, <code>.heif</code>, <code>.avif</code>, <code>.jxl</code>, <code>.raw</code>, <code>.cr2</code>, <code>.nef</code>, <code>.arw</code>, <code>.dng</code> Videos <code>.mp4</code>, <code>.mkv</code>, <code>.avi</code>, <code>.mov</code>, <code>.wmv</code>, <code>.flv</code>, <code>.webm</code>, <code>.m4v</code>, <code>.mpeg</code>, <code>.mpg</code>, <code>.3gp</code>, <code>.ts</code> Playlists <code>.wpl</code> (Windows Media Player playlists)"},{"location":"admin/server-config/#cache-directory","title":"Cache Directory","text":"<p>Stores thumbnails and transcoded videos.</p> <ul> <li>Default path: <code>/cache</code></li> <li>Configure with: <code>CACHE_DIR</code> environment variable</li> <li>Must be writable</li> <li>Should be persisted between container restarts</li> </ul> <p>Contents:</p> <ul> <li><code>thumbnails/</code> - Generated thumbnail cache</li> <li><code>transcodes/</code> - Transcoded video files</li> </ul>"},{"location":"admin/server-config/#database-directory","title":"Database Directory","text":"<p>Stores the SQLite database.</p> <ul> <li>Default path: <code>/database</code></li> <li>Configure with: <code>DATABASE_DIR</code> environment variable</li> <li>Must be writable</li> <li>Should be persisted between container restarts</li> </ul> <p>Contents:</p> <ul> <li><code>media.db</code> - SQLite database containing index, tags, favorites, user data, and sessions</li> </ul>"},{"location":"admin/server-config/#database","title":"Database","text":"<p>Media Viewer uses SQLite for data storage. The database is automatically created on first run.</p>"},{"location":"admin/server-config/#database-contents","title":"Database Contents","text":"<ul> <li>File index (paths, sizes, modification dates)</li> <li>Tags and tag assignments</li> <li>Favorites</li> <li>User account and sessions</li> <li>WebAuthn credentials (if enabled)</li> </ul>"},{"location":"admin/server-config/#database-location","title":"Database Location","text":"<p>The database file is stored at <code>{DATABASE_DIR}/media.db</code>.</p>"},{"location":"admin/server-config/#backup","title":"Backup","text":"<p>To backup your data:</p> <pre><code># Stop the container first for consistency\ndocker stop media-viewer\n\n# Copy the database\ndocker cp media-viewer:/database/media.db ./backup/media.db\n\n# Or if using volumes\ndocker run --rm -v media-database:/data -v $(pwd)/backup:/backup alpine cp /data/media.db /backup/\n\n# Restart\ndocker start media-viewer\n</code></pre>"},{"location":"admin/server-config/#indexing","title":"Indexing","text":"<p>Media Viewer automatically indexes your media library on startup and periodically thereafter.</p>"},{"location":"admin/server-config/#initial-index","title":"Initial Index","text":"<p>On first run, the application scans your entire media directory. This may take several minutes for large libraries.</p>"},{"location":"admin/server-config/#change-detection","title":"Change Detection","text":"<p>The indexer uses polling-based change detection (default: every 30 seconds) to find new, modified, or deleted files.</p>"},{"location":"admin/server-config/#full-reindex","title":"Full Reindex","text":"<p>Full reindexing happens automatically at the configured interval (default: every 30 minutes).</p>"},{"location":"admin/server-config/#manual-reindex","title":"Manual Reindex","text":"<p>To force a reindex:</p> <ol> <li>Open Settings \u2192 Cache tab</li> <li>Click Reindex Now</li> </ol> <p>Or use the API:</p> <pre><code>curl -X POST http://localhost:8080/api/reindex \\\n  -H \"Cookie: session=YOUR_SESSION_TOKEN\"\n</code></pre>"},{"location":"admin/server-config/#resource-requirements","title":"Resource Requirements","text":""},{"location":"admin/server-config/#memory","title":"Memory","text":"<ul> <li>Base: ~100MB</li> <li>Add ~1MB per 10,000 indexed files</li> <li>Thumbnail generation temporarily increases memory usage</li> <li>FFmpeg processes for video transcoding require additional memory</li> </ul>"},{"location":"admin/server-config/#storage","title":"Storage","text":"<ul> <li>Database: ~1KB per indexed file</li> <li>Thumbnails: ~10-50KB per image/video</li> <li>Transcoded videos: Varies based on source file size and quality</li> </ul>"},{"location":"admin/server-config/#cpu","title":"CPU","text":"<ul> <li>Thumbnail generation is CPU-intensive</li> <li>Video transcoding is very CPU-intensive</li> <li>Parallel workers scale based on available CPU cores</li> </ul>"},{"location":"admin/server-config/#logging","title":"Logging","text":"<p>Media Viewer logs to stdout, which Docker captures automatically.</p>"},{"location":"admin/server-config/#viewing-logs","title":"Viewing Logs","text":"<pre><code>docker logs media-viewer\ndocker logs -f media-viewer  # Follow mode\ndocker logs --tail 100 media-viewer  # Last 100 lines\n</code></pre>"},{"location":"admin/server-config/#log-levels","title":"Log Levels","text":"<p>Configure with <code>LOG_LEVEL</code> environment variable:</p> Level Description <code>debug</code> Detailed debugging information <code>info</code> Normal operational messages (default) <code>warn</code> Warning messages <code>error</code> Error messages only"},{"location":"admin/server-config/#log-filtering","title":"Log Filtering","text":"<p>Configure what gets logged:</p> <ul> <li><code>LOG_STATIC_FILES</code> - Log static file requests (default: <code>false</code>)</li> <li><code>LOG_HEALTH_CHECKS</code> - Log health check requests (default: <code>true</code>)</li> </ul>"},{"location":"admin/server-config/#health-checks","title":"Health Checks","text":"<p>The application provides multiple health endpoints for monitoring:</p> <pre><code>GET /health\n</code></pre> <p>Returns <code>200 OK</code> when the application is healthy.</p>"},{"location":"admin/server-config/#docker-health-check","title":"Docker Health Check","text":"<pre><code>healthcheck:\n    test: ['CMD', 'curl', '-f', 'http://localhost:8080/health']\n    interval: 30s\n    timeout: 10s\n    retries: 3\n</code></pre>"},{"location":"admin/thumbnails/","title":"Thumbnail Management","text":"<p>Media Viewer generates thumbnails for images and videos to provide fast gallery browsing.</p>"},{"location":"admin/thumbnails/#how-thumbnails-work","title":"How Thumbnails Work","text":""},{"location":"admin/thumbnails/#generation","title":"Generation","text":"<p>Thumbnails are generated:</p> <ul> <li>On-demand when an item is first viewed</li> <li>Incrementally in the background after media indexing</li> <li>Periodically via full scan (configurable with <code>THUMBNAIL_INTERVAL</code>)</li> </ul>"},{"location":"admin/thumbnails/#storage","title":"Storage","text":"<p>Thumbnails are stored in the cache directory:</p> <pre><code>{DATA_PATH}/thumbnails/\n</code></pre> <p>The thumbnail cache can grow significantly for large libraries. Plan storage accordingly.</p>"},{"location":"admin/thumbnails/#caching","title":"Caching","text":"<ul> <li>Thumbnails are cached indefinitely until manually cleared</li> <li>Browser caching further improves performance</li> <li>The PWA caches thumbnails for offline access</li> </ul>"},{"location":"admin/thumbnails/#cache-management","title":"Cache Management","text":""},{"location":"admin/thumbnails/#viewing-cache-status","title":"Viewing Cache Status","text":"<p>The stats bar at the bottom of the gallery shows library statistics, including when the library was last indexed.</p>"},{"location":"admin/thumbnails/#clearing-the-cache","title":"Clearing the Cache","text":"<p>To clear and rebuild all thumbnails:</p> <ol> <li>Click the clear cache button (trash icon) in the header</li> <li>Confirm the action</li> <li>The page reloads and thumbnails regenerate in the background</li> </ol> <p>This is useful when:</p> <ul> <li>Thumbnails appear corrupted</li> <li>You want to reclaim disk space and regenerate</li> <li>Source files have been modified</li> </ul>"},{"location":"admin/thumbnails/#manual-cache-clearing","title":"Manual Cache Clearing","text":"<p>To manually clear the thumbnail cache:</p> <pre><code># Stop the container\ndocker stop media-viewer\n\n# Remove thumbnail directory\nrm -rf /path/to/data/thumbnails\n\n# Restart\ndocker start media-viewer\n</code></pre> <p>Thumbnails regenerate on-demand as items are viewed.</p>"},{"location":"admin/thumbnails/#thumbnail-quality","title":"Thumbnail Quality","text":""},{"location":"admin/thumbnails/#images","title":"Images","text":"<p>Image thumbnails preserve aspect ratio and are optimized for gallery display.</p>"},{"location":"admin/thumbnails/#videos","title":"Videos","text":"<p>Video thumbnails are extracted from an early frame of the video. The exact frame may vary based on video encoding.</p>"},{"location":"admin/thumbnails/#folders","title":"Folders","text":"<p>Folder thumbnails show a preview of contents when available, or a folder icon otherwise.</p>"},{"location":"admin/thumbnails/#performance-considerations","title":"Performance Considerations","text":""},{"location":"admin/thumbnails/#initial-load","title":"Initial Load","text":"<p>First-time viewing of items requires thumbnail generation, which may cause brief delays. Subsequent views are instant.</p>"},{"location":"admin/thumbnails/#background-generation","title":"Background Generation","text":"<p>After clearing the cache, thumbnails regenerate in the background. You may notice:</p> <ul> <li>Brief loading indicators on items</li> <li>Gradual appearance of thumbnails</li> <li>Temporary increase in CPU usage</li> </ul>"},{"location":"admin/thumbnails/#storage-space","title":"Storage Space","text":"<p>Estimate thumbnail storage:</p> <ul> <li>~10-50KB per image</li> <li>~20-100KB per video</li> <li>Plan for 1-5% of your media library size</li> </ul>"},{"location":"admin/thumbnails/#network-usage","title":"Network Usage","text":"<p>Thumbnails are transferred to browsers on demand. For remote access over slow connections:</p> <ul> <li>Initial gallery load transfers visible thumbnails</li> <li>Scrolling loads additional thumbnails</li> <li>PWA installation caches thumbnails locally</li> </ul>"},{"location":"admin/webauthn/","title":"WebAuthn (Passkey) Authentication","text":"<p>Media Viewer supports passwordless authentication using passkeys (WebAuthn/FIDO2), allowing users to sign in with biometrics or security keys instead of passwords.</p>"},{"location":"admin/webauthn/#overview","title":"Overview","text":"<p>Passkeys provide a more secure and convenient authentication method compared to traditional passwords:</p> <ul> <li>No passwords to remember - Use your device's biometrics or security key</li> <li>Phishing-resistant - Passkeys are cryptographically bound to your domain</li> <li>Multi-device support - Register passkeys on multiple devices</li> <li>Privacy-focused - No personal data leaves your device during authentication</li> </ul>"},{"location":"admin/webauthn/#supported-authentication-methods","title":"Supported Authentication Methods","text":""},{"location":"admin/webauthn/#platform-authenticators-built-in","title":"Platform Authenticators (Built-in)","text":"<ul> <li>Windows Hello - Face recognition, fingerprint, or PIN on Windows devices</li> <li>Touch ID / Face ID - Biometric authentication on Apple devices</li> <li>Android Biometrics - Fingerprint, face unlock, or pattern on Android devices</li> </ul>"},{"location":"admin/webauthn/#security-keys-external","title":"Security Keys (External)","text":"<ul> <li>YubiKey - USB, NFC, or Lightning security keys</li> <li>Google Titan - USB and Bluetooth security keys</li> <li>Any FIDO2-compliant key - Supports the WebAuthn standard</li> </ul>"},{"location":"admin/webauthn/#browser-compatibility","title":"Browser Compatibility","text":"Browser Version Platform Auth Security Keys Conditional UI Notes Chrome 108+ \u2705 \u2705 \u2705 Full support including autofill Edge 108+ \u2705 \u2705 \u2705 Full support including autofill Safari 16+ \u2705 \u2705 \u2705 Requires macOS Ventura or iOS 16+ Firefox 119+ \u2705 \u2705 \u274c No autofill support, uses modal prompt Chrome Android 108+ \u2705 \u2705 \u2705 Supports biometrics and USB-C keys Safari iOS 16+ \u2705 \u2705 \u2705 Face ID, Touch ID, external keys via NFC Samsung Internet 23+ \u2705 \u2705 \u2705 Full support on Samsung devices"},{"location":"admin/webauthn/#feature-descriptions","title":"Feature Descriptions","text":"<ul> <li>Platform Auth: Built-in biometric authentication (Touch ID, Face ID, Windows Hello)</li> <li>Security Keys: External FIDO2 security keys (YubiKey, Titan, etc.)</li> <li>Conditional UI: Passkeys appear in password field autofill dropdown</li> </ul>"},{"location":"admin/webauthn/#configuration","title":"Configuration","text":""},{"location":"admin/webauthn/#environment-variables","title":"Environment Variables","text":"<p>WebAuthn requires specific configuration to work properly:</p> <pre><code>environment:\n    - WEBAUTHN_ENABLED=true # Enable passkey authentication\n    - WEBAUTHN_RP_ID=example.com # Your domain name\n    - WEBAUTHN_RP_NAME=Media Viewer # Display name in prompts\n    - WEBAUTHN_ORIGINS=https://example.com # Allowed origins (comma-separated)\n</code></pre>"},{"location":"admin/webauthn/#relying-party-id-rp-id","title":"Relying Party ID (RP ID)","text":"<p>The <code>WEBAUTHN_RP_ID</code> must match your domain:</p> <pre><code># \u2705 Correct configurations\nWEBAUTHN_RP_ID=example.com\nWEBAUTHN_ORIGINS=https://example.com\n\nWEBAUTHN_RP_ID=example.com\nWEBAUTHN_ORIGINS=https://media.example.com\n\n# \u274c Incorrect configurations\nWEBAUTHN_RP_ID=media.example.com\nWEBAUTHN_ORIGINS=https://example.com              # RP ID not a suffix of origin\n\nWEBAUTHN_RP_ID=localhost\nWEBAUTHN_ORIGINS=https://example.com              # Mismatch\n\nWEBAUTHN_RP_ID=192.168.1.50                       # IP addresses not allowed\n</code></pre> <p>Rules:</p> <ol> <li>RP ID must be a valid domain (not an IP address)</li> <li>RP ID must be a suffix of the origin domain</li> <li>RP ID should match the effective domain (usually top-level domain)</li> </ol>"},{"location":"admin/webauthn/#multiple-origins","title":"Multiple Origins","text":"<p>To support multiple subdomains or origins:</p> <pre><code>WEBAUTHN_RP_ID=example.com\nWEBAUTHN_ORIGINS=https://example.com,https://media.example.com,https://photos.example.com\n</code></pre>"},{"location":"admin/webauthn/#docker-compose-example","title":"Docker Compose Example","text":"<pre><code>version: '3.8'\n\nservices:\n    media-viewer:\n        image: ghcr.io/djryanj/media-viewer:latest\n        ports:\n            - '443:8080'\n        environment:\n            - WEBAUTHN_ENABLED=true\n            - WEBAUTHN_RP_ID=media.example.com\n            - WEBAUTHN_RP_NAME=My Media Library\n            - WEBAUTHN_ORIGINS=https://media.example.com\n        volumes:\n            - /path/to/media:/media:ro\n            - media-database:/database\n        restart: unless-stopped\n\nvolumes:\n    media-database:\n</code></pre>"},{"location":"admin/webauthn/#kubernetes-example","title":"Kubernetes Example","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n    name: media-viewer\nspec:\n    template:\n        spec:\n            containers:\n                - name: media-viewer\n                  image: ghcr.io/djryanj/media-viewer:latest\n                  env:\n                      - name: WEBAUTHN_ENABLED\n                        value: 'true'\n                      - name: WEBAUTHN_RP_ID\n                        value: media.example.com\n                      - name: WEBAUTHN_RP_NAME\n                        value: Media Viewer\n                      - name: WEBAUTHN_ORIGINS\n                        value: https://media.example.com\n</code></pre>"},{"location":"admin/webauthn/#secure-context-requirement","title":"Secure Context Requirement","text":"<p>WebAuthn requires HTTPS (or <code>http://localhost</code> for development):</p> Context WebAuthn Support Use Case <code>https://example.com</code> \u2705 Production <code>http://localhost:8080</code> \u2705 Local development <code>http://192.168.1.50:8080</code> \u274c Won't work <code>http://example.com</code> \u274c Must use HTTPS <code>https://abc123.ngrok-free.app</code> \u2705 Development tunnel"},{"location":"admin/webauthn/#why-https-is-required","title":"Why HTTPS is Required","text":"<p>WebAuthn is a powerful authentication API that generates cryptographic keys. Browsers restrict it to secure contexts to prevent:</p> <ul> <li>Man-in-the-middle attacks - HTTPS ensures credentials can't be intercepted</li> <li>Credential theft - Prevents malicious sites from stealing authentication data</li> <li>Domain spoofing - Ensures users authenticate to the correct site</li> </ul>"},{"location":"admin/webauthn/#development-exceptions","title":"Development Exceptions","text":"<p>Browsers allow <code>http://localhost</code> for development convenience, but this exception does not extend to:</p> <ul> <li>IP addresses (<code>http://127.0.0.1</code> or <code>http://192.168.x.x</code>)</li> <li>Custom local domains without certificates</li> <li>Any non-localhost hostname over HTTP</li> </ul>"},{"location":"api/authentication/","title":"Authentication API","text":"<p>Password-based authentication endpoints for session management.</p>"},{"location":"api/authentication/#overview","title":"Overview","text":"<p>Media Viewer uses session-based authentication with HTTP-only cookies. After successful login, the server sets a session cookie that must be included in subsequent requests.</p>"},{"location":"api/authentication/#session-cookie","title":"Session Cookie","text":"<ul> <li>Name: <code>session</code></li> <li>HttpOnly: <code>true</code> (not accessible via JavaScript)</li> <li>SameSite: <code>Strict</code></li> <li>Duration: Configurable via <code>SESSION_DURATION</code> (default: 24h)</li> <li>Type: Sliding expiration (extends on activity)</li> </ul>"},{"location":"api/authentication/#endpoints","title":"Endpoints","text":""},{"location":"api/authentication/#check-setup-required","title":"Check Setup Required","text":"<p>Check if initial password setup is needed.</p> <pre><code>GET /api/auth/check-setup\n</code></pre>"},{"location":"api/authentication/#login","title":"Login","text":"<p>Authenticate and create a session.</p> <pre><code>POST /api/auth/login\n</code></pre>"},{"location":"api/authentication/#request","title":"Request","text":"<pre><code>{\n    \"password\": \"your-password\"\n}\n</code></pre>"},{"location":"api/authentication/#response","title":"Response","text":"<p>Success (200):</p> <pre><code>{\n    \"success\": true\n}\n</code></pre> <p>A session cookie is set in the response headers.</p> <p>Failure (401):</p> <pre><code>{\n    \"success\": false,\n    \"error\": \"Invalid password\"\n}\n</code></pre>"},{"location":"api/authentication/#logout","title":"Logout","text":"<p>End the current session.</p> <pre><code>POST /api/auth/logout\n</code></pre>"},{"location":"api/authentication/#response_1","title":"Response","text":"<p>Success (200):</p> <pre><code>{\n    \"success\": true\n}\n</code></pre> <p>The session cookie is cleared.</p>"},{"location":"api/authentication/#check-session","title":"Check Session","text":"<p>Verify if the current session is valid.</p> <pre><code>GET /api/auth/check\n</code></pre>"},{"location":"api/authentication/#response_2","title":"Response","text":"<p>Authenticated (200):</p> <pre><code>{\n    \"success\": true\n}\n</code></pre> <p>Not Authenticated (401):</p> <pre><code>{\n    \"success\": false\n}\n</code></pre>"},{"location":"api/authentication/#change-password","title":"Change Password","text":"<p>Update the application password.</p> <pre><code>PUT /api/auth/password\n</code></pre>"},{"location":"api/authentication/#request_1","title":"Request","text":"<pre><code>{\n    \"currentPassword\": \"current-password\",\n    \"newPassword\": \"new-password\"\n}\n</code></pre>"},{"location":"api/authentication/#response_3","title":"Response","text":"<p>Success (200):</p> <pre><code>{\n    \"success\": true\n}\n</code></pre> <p>Invalid Current Password (401):</p> <pre><code>{\n    \"success\": false,\n    \"error\": \"Current password is incorrect\"\n}\n</code></pre> <p>Validation Error (400):</p> <pre><code>{\n    \"success\": false,\n    \"error\": \"New password must be at least 6 characters\"\n}\n</code></pre>"},{"location":"api/authentication/#session-keepalive","title":"Session Keepalive","text":"<p>The application automatically sends keepalive requests to maintain active sessions. This is handled internally and does not require manual API calls.</p>"},{"location":"api/favorites/","title":"Favorites API","text":"<p>Endpoints for managing favorite items.</p>"},{"location":"api/favorites/#list-favorites","title":"List Favorites","text":"<p>Get all favorited items.</p> <pre><code>GET /api/favorites\n</code></pre>"},{"location":"api/favorites/#response","title":"Response","text":"<pre><code>[\n    {\n        \"path\": \"photos/vacation/beach.jpg\",\n        \"name\": \"beach.jpg\",\n        \"type\": \"image\",\n        \"addedAt\": \"2024-07-15T10:30:00Z\"\n    },\n    {\n        \"path\": \"videos/highlights\",\n        \"name\": \"highlights\",\n        \"type\": \"folder\",\n        \"addedAt\": \"2024-07-14T08:00:00Z\"\n    }\n]\n</code></pre>"},{"location":"api/favorites/#add-favorite","title":"Add Favorite","text":"<p>Add an item to favorites.</p> <pre><code>POST /api/favorites\n</code></pre>"},{"location":"api/favorites/#request","title":"Request","text":"<pre><code>{\n    \"path\": \"photos/vacation/beach.jpg\",\n    \"name\": \"beach.jpg\",\n    \"type\": \"image\"\n}\n</code></pre>"},{"location":"api/favorites/#response_1","title":"Response","text":"<p>Success (200):</p> <pre><code>{\n    \"success\": true\n}\n</code></pre> <p>Already Exists (200):</p> <pre><code>{\n    \"success\": true,\n    \"message\": \"Already a favorite\"\n}\n</code></pre>"},{"location":"api/favorites/#remove-favorite","title":"Remove Favorite","text":"<p>Remove an item from favorites.</p> <pre><code>DELETE /api/favorites\n</code></pre>"},{"location":"api/favorites/#request_1","title":"Request","text":"<pre><code>{\n    \"path\": \"photos/vacation/beach.jpg\"\n}\n</code></pre>"},{"location":"api/favorites/#response_2","title":"Response","text":"<p>Success (200):</p> <pre><code>{\n    \"success\": true\n}\n</code></pre>"},{"location":"api/favorites/#bulk-add-favorites","title":"Bulk Add Favorites","text":"<p>Add multiple items to favorites at once.</p> <pre><code>POST /api/favorites/bulk\n</code></pre>"},{"location":"api/favorites/#request_2","title":"Request","text":"<pre><code>{\n    \"items\": [\n        {\n            \"path\": \"photos/vacation/beach.jpg\",\n            \"name\": \"beach.jpg\",\n            \"type\": \"image\"\n        },\n        {\n            \"path\": \"photos/vacation/sunset.jpg\",\n            \"name\": \"sunset.jpg\",\n            \"type\": \"image\"\n        }\n    ]\n}\n</code></pre>"},{"location":"api/favorites/#response_3","title":"Response","text":"<pre><code>{\n    \"success\": 2,\n    \"failed\": 0\n}\n</code></pre>"},{"location":"api/files/","title":"Files &amp; Media API","text":"<p>Endpoints for browsing, retrieving, and streaming media files.</p>"},{"location":"api/files/#api-reference","title":"API Reference","text":"<p>See the OpenAPI Specification for interactive documentation of all file-related endpoints:</p> <ul> <li><code>GET /api/files</code> - List files and folders</li> <li><code>GET /api/file/{path}</code> - Get a file</li> <li><code>GET /api/thumbnail/{path}</code> - Get thumbnail</li> <li><code>GET /api/stream/{path}</code> - Stream video</li> <li><code>GET /api/stream-info/{path}</code> - Get stream info</li> <li><code>GET /api/playlists</code> - List playlists</li> <li><code>GET /api/playlist/{name}</code> - Get playlist contents</li> </ul> <p>Refer to the OpenAPI documentation for detailed request/response schemas and examples.</p>"},{"location":"api/files/#list-directory","title":"List Directory","text":"<p>Get contents of a directory with pagination and filtering.</p> <pre><code>GET /api/files\n</code></pre>"},{"location":"api/files/#parameters","title":"Parameters","text":"Parameter Type Default Description path string \"\" Directory path (empty for root) sort string \"name\" Sort field: name, date, size, type order string \"asc\" Sort order: asc, desc type string \"\" Filter by type: image, video, playlist page number 1 Page number pageSize number 100 Items per page"},{"location":"api/files/#response","title":"Response","text":"<pre><code>{\n    \"path\": \"photos/vacation\",\n    \"breadcrumb\": [\n        { \"name\": \"Home\", \"path\": \"\" },\n        { \"name\": \"photos\", \"path\": \"photos\" },\n        { \"name\": \"vacation\", \"path\": \"photos/vacation\" }\n    ],\n    \"items\": [\n        {\n            \"name\": \"beach.jpg\",\n            \"path\": \"photos/vacation/beach.jpg\",\n            \"type\": \"image\",\n            \"size\": 2458624,\n            \"modified\": \"2024-07-15T10:30:00Z\",\n            \"tags\": [\"beach\", \"sunset\"],\n            \"isFavorite\": true\n        }\n    ],\n    \"page\": 1,\n    \"pageSize\": 100,\n    \"totalItems\": 42,\n    \"totalPages\": 1\n}\n</code></pre>"},{"location":"api/files/#list-media-files","title":"List Media Files","text":"<p>Get all media files in a directory for lightbox navigation.</p> <pre><code>GET /api/media\n</code></pre>"},{"location":"api/files/#parameters_1","title":"Parameters","text":"Parameter Type Default Description path string \"\" Directory path sort string \"name\" Sort field order string \"asc\" Sort order"},{"location":"api/files/#response_1","title":"Response","text":"<pre><code>[\n    {\n        \"name\": \"beach.jpg\",\n        \"path\": \"photos/vacation/beach.jpg\",\n        \"type\": \"image\",\n        \"tags\": [\"beach\", \"sunset\"]\n    },\n    {\n        \"name\": \"video.mp4\",\n        \"path\": \"photos/vacation/video.mp4\",\n        \"type\": \"video\",\n        \"tags\": []\n    }\n]\n</code></pre>"},{"location":"api/files/#get-thumbnail","title":"Get Thumbnail","text":"<p>Get a thumbnail image for a file.</p> <pre><code>GET /api/thumbnail/{path}\n</code></pre>"},{"location":"api/files/#parameters_2","title":"Parameters","text":"Parameter Type Description path string URL-encoded file path"},{"location":"api/files/#response_2","title":"Response","text":"<p>Returns the thumbnail image with appropriate content type.</p> <p>Not Found (404): If the file doesn't exist or thumbnail generation fails.</p>"},{"location":"api/files/#get-original-file","title":"Get Original File","text":"<p>Get the original file for viewing.</p> <pre><code>GET /api/file/{path}\n</code></pre>"},{"location":"api/files/#parameters_3","title":"Parameters","text":"Parameter Type Description path string URL-encoded file path"},{"location":"api/files/#response_3","title":"Response","text":"<p>Returns the file with appropriate content type and support for range requests (video seeking).</p>"},{"location":"api/files/#search","title":"Search","text":"<p>Search for files by name or tag.</p> <pre><code>GET /api/search\n</code></pre>"},{"location":"api/files/#parameters_4","title":"Parameters","text":"Parameter Type Description q string Search query type string Filter by type (optional) page number Page number pageSize number Items per page"},{"location":"api/files/#query-syntax","title":"Query Syntax","text":"<ul> <li><code>sunset</code> - Search filenames containing \"sunset\"</li> <li><code>tag:vacation</code> - Search for files with \"vacation\" tag</li> </ul>"},{"location":"api/files/#response_4","title":"Response","text":"<p>Same format as List Directory response.</p>"},{"location":"api/openapi/","title":"OpenAPI Specification","text":"<p>Interactive API documentation powered by Swagger UI.</p> <p>Authentication Required</p> <p>Most endpoints require authentication. You'll need to authenticate first via the <code>/api/auth/login</code> endpoint before testing other endpoints.</p>"},{"location":"api/openapi/#interactive-api-explorer","title":"Interactive API Explorer","text":""},{"location":"api/openapi/#download-specification","title":"Download Specification","text":"<p>Download the OpenAPI specification file:</p> <ul> <li>swagger.json - OpenAPI 3.0 JSON format</li> </ul>"},{"location":"api/openapi/#using-the-specification","title":"Using the Specification","text":"<p>You can use this specification with various tools:</p>"},{"location":"api/openapi/#import-into-postman","title":"Import into Postman","text":"<ol> <li>Open Postman</li> <li>Click Import</li> <li>Select Link tab</li> <li>Paste: <code>https://djryanj.github.io/media-viewer/swagger.json</code></li> </ol>"},{"location":"api/openapi/#generate-client-sdks","title":"Generate Client SDKs","text":"<p>Use OpenAPI Generator to generate client libraries:</p> <pre><code># JavaScript/TypeScript\nopenapi-generator-cli generate -i swagger.json -g typescript-axios -o ./client\n\n# Python\nopenapi-generator-cli generate -i swagger.json -g python -o ./client\n\n# Go\nopenapi-generator-cli generate -i swagger.json -g go -o ./client\n</code></pre>"},{"location":"api/openapi/#test-with-curl","title":"Test with cURL","text":"<p>Each endpoint in the Swagger UI can be tested directly, or you can copy the cURL commands.</p> <p>Example login request:</p> <pre><code>curl -X POST http://localhost:8080/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"password\":\"your-password\"}' \\\n  -c cookies.txt\n\n# Use the session cookie for subsequent requests\ncurl http://localhost:8080/api/files \\\n  -b cookies.txt\n</code></pre>"},{"location":"api/overview/","title":"API Overview","text":"<p>Media Viewer exposes a RESTful API for programmatic access to all features. The API is used internally by the web frontend and can also be used for custom integrations.</p>"},{"location":"api/overview/#base-url","title":"Base URL","text":"<p>All API endpoints are prefixed with <code>/api/</code> (except authentication, health, and version endpoints).</p>"},{"location":"api/overview/#authentication","title":"Authentication","text":"<p>Most endpoints require authentication via session cookie. Obtain a session by logging in through the <code>/api/auth/login</code> endpoint.</p>"},{"location":"api/overview/#session-cookie","title":"Session Cookie","text":"<p>After successful login, a session cookie is set automatically. Include this cookie in subsequent requests.</p>"},{"location":"api/overview/#unauthenticated-requests","title":"Unauthenticated Requests","text":"<p>Unauthenticated requests to protected endpoints return:</p> <pre><code>HTTP/1.1 401 Unauthorized\n</code></pre>"},{"location":"api/overview/#response-format","title":"Response Format","text":"<p>All responses are JSON unless otherwise noted.</p>"},{"location":"api/overview/#success-response","title":"Success Response","text":"<pre><code>{\n    \"success\": true,\n    \"data\": {}\n}\n</code></pre>"},{"location":"api/overview/#error-response","title":"Error Response","text":"<pre><code>{\n    \"success\": false,\n    \"error\": \"Error message\"\n}\n</code></pre>"},{"location":"api/overview/#endpoints-summary","title":"Endpoints Summary","text":""},{"location":"api/overview/#authentication_1","title":"Authentication","text":"Method Endpoint Description POST <code>/api/auth/login</code> Log in POST <code>/api/auth/logout</code> Log out GET <code>/api/auth/check</code> Check session status PUT <code>/api/auth/password</code> Change password"},{"location":"api/overview/#files","title":"Files","text":"Method Endpoint Description GET <code>/api/files</code> List directory contents GET <code>/api/media</code> List media files for lightbox GET <code>/api/thumbnail/{path}</code> Get thumbnail GET <code>/api/file/{path}</code> Get original file"},{"location":"api/overview/#tags","title":"Tags","text":"Method Endpoint Description GET <code>/api/tags</code> List all tags GET <code>/api/tags/file</code> Get tags for a file POST <code>/api/tags/file</code> Add tag to file DELETE <code>/api/tags/file</code> Remove tag from file POST <code>/api/tags/bulk</code> Add tag to multiple files DELETE <code>/api/tags/bulk</code> Remove tag from multiple files"},{"location":"api/overview/#favorites","title":"Favorites","text":"Method Endpoint Description GET <code>/api/favorites</code> List favorites POST <code>/api/favorites</code> Add favorite DELETE <code>/api/favorites</code> Remove favorite POST <code>/api/favorites/bulk</code> Add multiple favorites"},{"location":"api/overview/#search","title":"Search","text":"Method Endpoint Description GET <code>/api/search</code> Search media"},{"location":"api/overview/#system","title":"System","text":"Method Endpoint Description GET <code>/api/stats</code> Get library statistics GET <code>/health</code> Health check GET <code>/version</code> Version information POST <code>/api/thumbnails/rebuild</code> Clear and rebuild thumbnails"},{"location":"api/search/","title":"Search API","text":"<p>Full-text search and suggestions endpoints.</p>"},{"location":"api/search/#api-reference","title":"API Reference","text":"<p>See the OpenAPI Specification for interactive documentation:</p> <ul> <li><code>GET /api/search</code> - Search files</li> <li><code>GET /api/search/suggestions</code> - Get search suggestions</li> </ul> <p>Refer to the OpenAPI documentation for detailed request/response schemas and examples.</p>"},{"location":"api/system/","title":"System API","text":"<p>System health, statistics, and administrative endpoints.</p>"},{"location":"api/system/#api-reference","title":"API Reference","text":"<p>See the OpenAPI Specification for interactive documentation:</p> <p>Health &amp; Info:</p> <ul> <li><code>GET /health</code> - Basic health check</li> <li><code>GET /healthz</code> - Health check alias</li> <li><code>GET /livez</code> - Liveness probe</li> <li><code>GET /readyz</code> - Readiness probe</li> <li><code>GET /version</code> - Version information</li> <li><code>GET /metrics</code> - Prometheus metrics (port 9090)</li> </ul> <p>Statistics:</p> <ul> <li><code>GET /api/stats</code> - Library statistics</li> </ul> <p>Cache Management:</p> <ul> <li><code>POST /api/thumbnails/invalidate</code> - Clear all thumbnails</li> <li><code>POST /api/thumbnails/rebuild</code> - Rebuild all thumbnails</li> <li><code>GET /api/thumbnails/status</code> - Thumbnail generation status</li> <li><code>DELETE /api/thumbnail/{path}</code> - Invalidate single thumbnail</li> <li><code>POST /api/transcode/clear</code> - Clear transcode cache</li> </ul> <p>Indexing:</p> <ul> <li><code>POST /api/reindex</code> - Trigger media reindex</li> </ul> <p>Refer to the OpenAPI documentation for detailed request/response schemas and examples.</p>"},{"location":"api/tags-favorites/","title":"Tags &amp; Favorites API","text":"<p>Endpoints for managing tags and favorite files.</p>"},{"location":"api/tags-favorites/#api-reference","title":"API Reference","text":"<p>See the OpenAPI Specification for interactive documentation:</p> <p>Tags:</p> <ul> <li><code>GET /api/tags</code> - List all tags</li> <li><code>GET /api/tags/file</code> - Get file tags</li> <li><code>POST /api/tags/file</code> - Add tag to file</li> <li><code>DELETE /api/tags/file</code> - Remove tag from file</li> <li><code>POST /api/tags/file/set</code> - Set all tags for file</li> <li><code>POST /api/tags/batch</code> - Get tags for multiple files</li> <li><code>POST /api/tags/bulk</code> - Add tag to multiple files</li> <li><code>DELETE /api/tags/bulk</code> - Remove tag from multiple files</li> <li><code>GET /api/tags/{tag}</code> - Get files with tag</li> <li><code>DELETE /api/tags/{tag}</code> - Delete tag globally</li> <li><code>PUT /api/tags/{tag}</code> - Rename tag globally</li> </ul> <p>Favorites:</p> <ul> <li><code>GET /api/favorites</code> - List favorites</li> <li><code>POST /api/favorites</code> - Add favorite</li> <li><code>DELETE /api/favorites</code> - Remove favorite</li> <li><code>POST /api/favorites/bulk</code> - Add multiple favorites</li> <li><code>DELETE /api/favorites/bulk</code> - Remove multiple favorites</li> <li><code>GET /api/favorites/check</code> - Check if favorited</li> </ul> <p>Refer to the OpenAPI documentation for detailed request/response schemas and examples.</p>"},{"location":"api/tags/","title":"Tags API","text":"<p>Endpoints for managing tags on media files.</p>"},{"location":"api/tags/#list-all-tags","title":"List All Tags","text":"<p>Get all tags in the library with usage counts.</p> <pre><code>GET /api/tags\n</code></pre>"},{"location":"api/tags/#response","title":"Response","text":"<pre><code>[\n    {\n        \"name\": \"vacation\",\n        \"itemCount\": 42\n    },\n    {\n        \"name\": \"family\",\n        \"itemCount\": 128\n    }\n]\n</code></pre>"},{"location":"api/tags/#get-file-tags","title":"Get File Tags","text":"<p>Get tags assigned to a specific file.</p> <pre><code>GET /api/tags/file?path={filePath}\n</code></pre>"},{"location":"api/tags/#parameters","title":"Parameters","text":"Parameter Type Description path string URL-encoded file path"},{"location":"api/tags/#response_1","title":"Response","text":"<pre><code>[\"vacation\", \"beach\", \"2024\"]\n</code></pre>"},{"location":"api/tags/#add-tag-to-file","title":"Add Tag to File","text":"<p>Add a tag to a single file.</p> <pre><code>POST /api/tags/file\n</code></pre>"},{"location":"api/tags/#request","title":"Request","text":"<pre><code>{\n    \"path\": \"photos/vacation/beach.jpg\",\n    \"tag\": \"vacation\"\n}\n</code></pre>"},{"location":"api/tags/#response_2","title":"Response","text":"<p>Success (200):</p> <pre><code>{\n    \"success\": true\n}\n</code></pre>"},{"location":"api/tags/#remove-tag-from-file","title":"Remove Tag from File","text":"<p>Remove a tag from a single file.</p> <pre><code>DELETE /api/tags/file\n</code></pre>"},{"location":"api/tags/#request_1","title":"Request","text":"<pre><code>{\n    \"path\": \"photos/vacation/beach.jpg\",\n    \"tag\": \"vacation\"\n}\n</code></pre>"},{"location":"api/tags/#response_3","title":"Response","text":"<p>Success (200):</p> <pre><code>{\n    \"success\": true\n}\n</code></pre>"},{"location":"api/tags/#bulk-add-tag","title":"Bulk Add Tag","text":"<p>Add a tag to multiple files at once.</p> <pre><code>POST /api/tags/bulk\n</code></pre>"},{"location":"api/tags/#request_2","title":"Request","text":"<pre><code>{\n    \"paths\": [\n        \"photos/vacation/beach.jpg\",\n        \"photos/vacation/sunset.jpg\",\n        \"photos/vacation/hotel.jpg\"\n    ],\n    \"tag\": \"vacation\"\n}\n</code></pre>"},{"location":"api/tags/#response_4","title":"Response","text":"<pre><code>{\n    \"success\": 3,\n    \"failed\": 0\n}\n</code></pre>"},{"location":"api/tags/#bulk-remove-tag","title":"Bulk Remove Tag","text":"<p>Remove a tag from multiple files at once.</p> <pre><code>DELETE /api/tags/bulk\n</code></pre>"},{"location":"api/tags/#request_3","title":"Request","text":"<pre><code>{\n    \"paths\": [\"photos/vacation/beach.jpg\", \"photos/vacation/sunset.jpg\"],\n    \"tag\": \"vacation\"\n}\n</code></pre>"},{"location":"api/tags/#response_5","title":"Response","text":"<pre><code>{\n    \"success\": 2,\n    \"failed\": 0\n}\n</code></pre>"},{"location":"api/webauthn/","title":"WebAuthn API","text":"<p>Passkey (WebAuthn/FIDO2) authentication endpoints.</p> <p>For detailed information about WebAuthn configuration and usage, see:</p> <ul> <li>User Guide: WebAuthn/Passkeys</li> <li>Administration: WebAuthn Setup</li> <li>Comprehensive Guide: WebAuthn Documentation</li> </ul>"},{"location":"api/webauthn/#api-reference","title":"API Reference","text":"<p>See the OpenAPI Specification for interactive documentation of all WebAuthn endpoints:</p> <ul> <li><code>GET /api/auth/webauthn/available</code> - Check passkey availability</li> <li><code>POST /api/auth/webauthn/register/begin</code> - Start registration</li> <li><code>POST /api/auth/webauthn/register/finish</code> - Complete registration</li> <li><code>POST /api/auth/webauthn/login/begin</code> - Start authentication</li> <li><code>POST /api/auth/webauthn/login/finish</code> - Complete authentication</li> <li><code>GET /api/auth/webauthn/passkeys</code> - List passkeys</li> <li><code>DELETE /api/auth/webauthn/passkeys</code> - Delete passkey</li> </ul> <p>Refer to the OpenAPI documentation for detailed request/response schemas and examples.</p>"},{"location":"development/architecture/","title":"Architecture","text":"<p>This document describes the technical architecture of Media Viewer.</p>"},{"location":"development/architecture/#overview","title":"Overview","text":"<p>Media Viewer is a client-server application with:</p> <ul> <li>Frontend: Single-page application (SPA) using vanilla JavaScript, HTML, and CSS</li> <li>Backend: Go HTTP server with Gorilla Mux router</li> <li>Database: SQLite with FTS5 for full-text search</li> <li>Storage: File system for media files, thumbnails, and transcoded videos</li> <li>Media Processing: FFmpeg for video transcoding and thumbnail generation</li> </ul>"},{"location":"development/architecture/#technology-stack","title":"Technology Stack","text":""},{"location":"development/architecture/#backend","title":"Backend","text":"<ul> <li>Language: Go 1.21+</li> <li>HTTP Router: Gorilla Mux</li> <li>Database: SQLite with CGO (FTS5 extension)</li> <li>Authentication: WebAuthn (go-webauthn/webauthn) + bcrypt password hashing</li> <li>Media Processing: FFmpeg (via exec)</li> <li>Metrics: Prometheus client library</li> </ul>"},{"location":"development/architecture/#frontend","title":"Frontend","text":"<ul> <li>JavaScript: Vanilla ES6+ (no frameworks)</li> <li>CSS: Custom CSS with CSS Grid and Flexbox</li> <li>Icons: Lucide Icons (SVG)</li> <li>PWA: Service Worker, Web App Manifest</li> <li>APIs: WebAuthn, Wake Lock, Intersection Observer</li> </ul>"},{"location":"development/architecture/#backend-architecture","title":"Backend Architecture","text":""},{"location":"development/architecture/#project-structure","title":"Project Structure","text":"<pre><code>media-viewer/\n\u251c\u2500\u2500 cmd/\n\u2502   \u2514\u2500\u2500 resetpw/          # Password reset utility\n\u251c\u2500\u2500 internal/\n\u2502   \u251c\u2500\u2500 database/         # SQLite operations\n\u2502   \u251c\u2500\u2500 handlers/         # HTTP request handlers\n\u2502   \u251c\u2500\u2500 indexer/          # Media library indexer\n\u2502   \u251c\u2500\u2500 logging/          # Structured logging\n\u2502   \u251c\u2500\u2500 media/            # Thumbnail generation\n\u2502   \u251c\u2500\u2500 memory/           # Memory monitoring\n\u2502   \u251c\u2500\u2500 metrics/          # Prometheus metrics\n\u2502   \u251c\u2500\u2500 middleware/       # HTTP middleware\n\u2502   \u251c\u2500\u2500 mediatypes/       # File type detection\n\u2502   \u251c\u2500\u2500 startup/          # Application initialization\n\u2502   \u251c\u2500\u2500 streaming/        # Video streaming utilities\n\u2502   \u251c\u2500\u2500 transcoder/       # Video transcoding\n\u2502   \u2514\u2500\u2500 workers/          # Worker pool utilities\n\u251c\u2500\u2500 static/               # Frontend assets\n\u2502   \u251c\u2500\u2500 css/\n\u2502   \u251c\u2500\u2500 js/\n\u2502   \u251c\u2500\u2500 icons/\n\u2502   \u2514\u2500\u2500 *.html\n\u2514\u2500\u2500 main.go              # Application entry point\n</code></pre>"},{"location":"development/architecture/#core-components","title":"Core Components","text":""},{"location":"development/architecture/#http-server","title":"HTTP Server","text":"<ul> <li>Router: Gorilla Mux for flexible routing</li> <li>Middleware: Logging, compression, metrics, authentication</li> <li>Timeouts: Configurable read/write timeouts</li> <li>Graceful Shutdown: Cleanup on SIGINT/SIGTERM</li> </ul>"},{"location":"development/architecture/#database-layer-internaldatabase","title":"Database Layer (<code>internal/database</code>)","text":"<ul> <li>Connection: Single SQLite connection with mutex-based locking</li> <li>Migrations: Automatic schema initialization</li> <li>Indexes: Optimized for file path and tag queries</li> <li>FTS5: Full-text search on file names</li> <li>Transactions: Proper transaction handling for data integrity</li> </ul>"},{"location":"development/architecture/#indexer-internalindexer","title":"Indexer (<code>internal/indexer</code>)","text":"<ul> <li>Parallel Walker: Multi-threaded directory scanning</li> <li>Change Detection: Polling-based file system monitoring</li> <li>Incremental Updates: Only processes new/modified/deleted files</li> <li>Notifications: Triggers thumbnail generation after index completion</li> </ul>"},{"location":"development/architecture/#thumbnail-generator-internalmedia","title":"Thumbnail Generator (<code>internal/media</code>)","text":"<ul> <li>On-Demand: Generates thumbnails when requested</li> <li>Background Worker: Batch generation for new files</li> <li>FFmpeg Integration: Extracts video frames</li> <li>Image Processing: Resizes and optimizes images</li> <li>Per-File Locking: Prevents duplicate generation</li> </ul>"},{"location":"development/architecture/#transcoder-internaltranscoder","title":"Transcoder (<code>internal/transcoder</code>)","text":"<ul> <li>Streaming: Chunks video on-the-fly</li> <li>Caching: Stores transcoded files for reuse</li> <li>Format Detection: Determines if transcoding is needed</li> <li>FFmpeg Pipeline: H.264 encoding for browser compatibility</li> </ul>"},{"location":"development/architecture/#webauthn-handler-internalhandlerswebauthngo","title":"WebAuthn Handler (<code>internal/handlers/webauthn.go</code>)","text":"<ul> <li>Registration: Passkey enrollment with challenge-response</li> <li>Authentication: Passwordless login with signature verification</li> <li>Session Management: Temporary challenge storage (5-minute TTL)</li> <li>Credential Storage: Encrypted credential storage in database</li> </ul>"},{"location":"development/architecture/#api-design","title":"API Design","text":"<p>RESTful API with JSON responses:</p> <ul> <li><code>GET</code> - Resource retrieval</li> <li><code>POST</code> - Resource creation, actions</li> <li><code>PUT</code> - Resource updates</li> <li><code>DELETE</code> - Resource deletion</li> </ul> <p>Authentication via HTTP-only session cookies (SHA-256 hashed tokens).</p>"},{"location":"development/architecture/#concurrency-model","title":"Concurrency Model","text":""},{"location":"development/architecture/#goroutines","title":"Goroutines","text":"<ul> <li>HTTP Server: One goroutine per request</li> <li>Indexer: Background goroutine with ticker</li> <li>Thumbnail Generator: Worker pool with configurable size</li> <li>Session Cleanup: Periodic cleanup goroutine</li> <li>Metrics Collector: Background stats collection</li> </ul>"},{"location":"development/architecture/#worker-pools","title":"Worker Pools","text":"<p>Sized based on available CPU cores (respects container limits):</p> <ul> <li>CPU-bound tasks: <code>runtime.GOMAXPROCS(0)</code> workers</li> <li>I/O-bound tasks: <code>2 * GOMAXPROCS(0)</code> workers</li> <li>Mixed workload: <code>1.5 * GOMAXPROCS(0)</code> workers</li> </ul>"},{"location":"development/architecture/#synchronization","title":"Synchronization","text":"<ul> <li>Database: Read-write mutex (<code>sync.RWMutex</code>)</li> <li>Thumbnail Generation: Per-file locks (map of mutexes)</li> <li>Context Propagation: Cancellation and timeouts</li> </ul>"},{"location":"development/architecture/#memory-management","title":"Memory Management","text":"<ul> <li>GOMEMLIMIT: Configurable via environment or Kubernetes Downward API</li> <li>Memory Ratio: Reserves memory for FFmpeg and OS buffers</li> <li>GC Tuning: Aggressive collection when approaching limit</li> <li>Monitoring: Prometheus metrics for heap, sys, and GC stats</li> </ul>"},{"location":"development/architecture/#frontend-architecture","title":"Frontend Architecture","text":""},{"location":"development/architecture/#module-structure","title":"Module Structure","text":"<p>The frontend is organized into independent modules:</p> Module File Purpose MediaApp <code>app.js</code> Main application controller Gallery <code>gallery.js</code> Gallery rendering and interactions Lightbox <code>lightbox.js</code> Full-screen media viewer Search <code>search.js</code> Search functionality Tags <code>tags.js</code> Tag management Favorites <code>favorites.js</code> Favorites management ItemSelection <code>selection.js</code> Multi-select mode TagClipboard <code>tag-clipboard.js</code> Tag copy/paste Player <code>player.js</code> Playlist player HistoryManager <code>history.js</code> Browser history management InfiniteScroll <code>infinite-scroll.js</code> Gallery pagination InfiniteScrollSearch <code>infinite-scroll-search.js</code> Search pagination WebAuthnManager <code>webauthn.js</code> Passkey authentication SettingsManager <code>settings.js</code> Settings modal and management SessionManager <code>session.js</code> Session keepalive WakeLockManager <code>wake-lock.js</code> Screen wake lock TagTooltip <code>tag-tooltip.js</code> Tag overflow tooltip PreferencesManager <code>preferences.js</code> User preferences storage"},{"location":"development/architecture/#state-management","title":"State Management","text":"<p>Application state is managed in <code>MediaApp.state</code>:</p> <pre><code>{\n  currentPath: '',      // Current directory path\n  listing: null,        // Current directory listing\n  mediaFiles: [],       // Files for lightbox navigation\n  currentSort: { field: 'name', order: 'asc' },\n  currentFilter: 'all',\n  currentPage: 1,\n  hasMore: false,\n  isSearchMode: false,\n  searchQuery: ''\n}\n</code></pre>"},{"location":"development/architecture/#event-flow","title":"Event Flow","text":"<ol> <li>User interaction triggers event handler</li> <li>Handler updates state and/or calls API</li> <li>API response updates state via <code>setState()</code></li> <li>UI components re-render based on new state</li> </ol>"},{"location":"development/architecture/#history-management","title":"History Management","text":"<p>Browser history is managed for:</p> <ul> <li>Directory navigation (pushState)</li> <li>Lightbox overlay (replaceState)</li> <li>Search results (pushState)</li> </ul> <p>The <code>HistoryManager</code> module handles back/forward navigation and state restoration.</p>"},{"location":"development/architecture/#webauthn-integration","title":"WebAuthn Integration","text":"<ul> <li>Registration: Custom naming modal before browser prompt</li> <li>Authentication: Conditional UI (autofill) + manual button + auto-prompt</li> <li>Credential Management: List, add, delete passkeys</li> <li>Fallback: Always maintains password auth option</li> </ul>"},{"location":"development/architecture/#database-schema","title":"Database Schema","text":""},{"location":"development/architecture/#core-tables","title":"Core Tables","text":""},{"location":"development/architecture/#files","title":"<code>files</code>","text":"<p>Indexed media files:</p> <pre><code>CREATE TABLE files (\n    path TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    type TEXT NOT NULL,\n    size INTEGER NOT NULL,\n    modified_at INTEGER NOT NULL\n);\n</code></pre>"},{"location":"development/architecture/#tags","title":"<code>tags</code>","text":"<p>Tag definitions:</p> <pre><code>CREATE TABLE tags (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name TEXT UNIQUE NOT NULL\n);\n</code></pre>"},{"location":"development/architecture/#file_tags","title":"<code>file_tags</code>","text":"<p>File-tag associations:</p> <pre><code>CREATE TABLE file_tags (\n    file_path TEXT NOT NULL,\n    tag_id INTEGER NOT NULL,\n    FOREIGN KEY (file_path) REFERENCES files(path) ON DELETE CASCADE,\n    FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE,\n    PRIMARY KEY (file_path, tag_id)\n);\n</code></pre>"},{"location":"development/architecture/#favorites","title":"<code>favorites</code>","text":"<p>Favorited items:</p> <pre><code>CREATE TABLE favorites (\n    path TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    type TEXT NOT NULL,\n    added_at INTEGER NOT NULL DEFAULT (strftime('%s', 'now'))\n);\n</code></pre>"},{"location":"development/architecture/#users","title":"<code>users</code>","text":"<p>Single user account:</p> <pre><code>CREATE TABLE users (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    password_hash TEXT NOT NULL,\n    created_at INTEGER NOT NULL,\n    updated_at INTEGER NOT NULL\n);\n</code></pre>"},{"location":"development/architecture/#sessions","title":"<code>sessions</code>","text":"<p>Active user sessions:</p> <pre><code>CREATE TABLE sessions (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    user_id INTEGER NOT NULL,\n    token_hash TEXT NOT NULL UNIQUE,\n    expires_at INTEGER NOT NULL,\n    created_at INTEGER NOT NULL,\n    last_activity INTEGER NOT NULL,\n    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE\n);\n</code></pre>"},{"location":"development/architecture/#webauthn-tables","title":"WebAuthn Tables","text":""},{"location":"development/architecture/#webauthn_credentials","title":"<code>webauthn_credentials</code>","text":"<p>Registered passkeys:</p> <pre><code>CREATE TABLE webauthn_credentials (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    user_id INTEGER NOT NULL,\n    credential_id BLOB NOT NULL UNIQUE,\n    public_key BLOB NOT NULL,\n    attestation_type TEXT NOT NULL,\n    aaguid BLOB,\n    sign_count INTEGER NOT NULL DEFAULT 0,\n    name TEXT NOT NULL DEFAULT 'Passkey',\n    transports TEXT,\n    created_at INTEGER NOT NULL,\n    last_used_at INTEGER NOT NULL,\n    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE\n);\n</code></pre>"},{"location":"development/architecture/#webauthn_sessions","title":"<code>webauthn_sessions</code>","text":"<p>WebAuthn challenge data:</p> <pre><code>CREATE TABLE webauthn_sessions (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    session_id TEXT NOT NULL UNIQUE,\n    session_data BLOB NOT NULL,\n    expires_at INTEGER NOT NULL,\n    created_at INTEGER NOT NULL\n);\n</code></pre>"},{"location":"development/architecture/#full-text-search","title":"Full-Text Search","text":"<p>FTS5 virtual table for file search:</p> <pre><code>CREATE VIRTUAL TABLE files_fts USING fts5(\n    path,\n    name,\n    content=files,\n    content_rowid=rowid\n);\n</code></pre>"},{"location":"development/architecture/#performance-considerations","title":"Performance Considerations","text":""},{"location":"development/architecture/#backend_1","title":"Backend","text":"<ul> <li>Parallel Indexing: Multi-threaded directory walker (2-4x faster)</li> <li>Parallel Thumbnails: Worker pool for thumbnail generation</li> <li>Per-File Locks: Prevents duplicate thumbnail generation</li> <li>SQLite Indexes: Optimized queries on path, tags, favorites</li> <li>Streaming: Chunked video delivery with timeout protection</li> <li>Context Cancellation: Stops work when clients disconnect</li> </ul>"},{"location":"development/architecture/#frontend_1","title":"Frontend","text":"<ul> <li>Infinite Scroll: Reduces initial load time</li> <li>Intersection Observer: Efficient scroll detection</li> <li>Lazy Loading: Thumbnails loaded as needed</li> <li>Batched Updates: Single DOM paint for selection changes</li> <li>Service Worker: Caches static assets</li> <li>Debouncing: Search input and scroll events</li> </ul>"},{"location":"development/architecture/#caching-strategy","title":"Caching Strategy","text":"Resource Cache Location Duration Strategy Static assets Service Worker 7 days Cache first Thumbnails Disk + Browser 1 year Cache with revalid Transcoded video Disk Varies On-demand API responses None N/A Always fresh"},{"location":"development/architecture/#security-model","title":"Security Model","text":""},{"location":"development/architecture/#authentication","title":"Authentication","text":"<ul> <li>Password: bcrypt hashing (cost 10)</li> <li>Sessions: SHA-256 hashed tokens, HTTP-only cookies</li> <li>WebAuthn: FIDO2 with user verification required</li> <li>Expiration: Sliding window (default 24h)</li> </ul>"},{"location":"development/architecture/#authorization","title":"Authorization","text":"<p>Single-user model:</p> <ul> <li>All authenticated users have full access</li> <li>No role-based access control</li> <li>Path traversal prevention in file handlers</li> </ul>"},{"location":"development/architecture/#data-protection","title":"Data Protection","text":"<ul> <li>Passwords: Never logged or transmitted in plain text</li> <li>Sessions: Secure, HTTP-only, SameSite=Strict cookies</li> <li>WebAuthn: Private keys never leave user's device</li> <li>HTTPS: Required for WebAuthn in production</li> </ul>"},{"location":"development/architecture/#monitoring-observability","title":"Monitoring &amp; Observability","text":""},{"location":"development/architecture/#prometheus-metrics","title":"Prometheus Metrics","text":"<p>Exposed on separate port (default 9090):</p> <ul> <li>HTTP: Request count, duration, status codes</li> <li>Database: Query count, duration, errors</li> <li>Memory: Heap, sys, GC stats</li> <li>Thumbnails: Generation count, duration, cache hits</li> <li>Indexer: Files indexed, scan duration</li> </ul>"},{"location":"development/architecture/#logging","title":"Logging","text":"<p>Structured logging with levels:</p> <ul> <li><code>debug</code> - Detailed operation logs</li> <li><code>info</code> - Normal operational messages</li> <li><code>warn</code> - Concerning but non-critical events</li> <li><code>error</code> - Error conditions requiring attention</li> </ul>"},{"location":"development/architecture/#health-checks","title":"Health Checks","text":"<p>Multiple endpoints:</p> <ul> <li><code>/health</code> - Basic health check</li> <li><code>/livez</code> - Liveness probe (is process running?)</li> <li><code>/readyz</code> - Readiness probe (can it serve traffic?)</li> </ul>"},{"location":"development/architecture/#deployment-architecture","title":"Deployment Architecture","text":""},{"location":"development/architecture/#container","title":"Container","text":"<ul> <li>Base Image: Alpine Linux (small size)</li> <li>Runtime: Go binary + FFmpeg</li> <li>Volumes: Media (read-only), cache, database</li> <li>Ports: 8080 (HTTP), 9090 (metrics)</li> </ul>"},{"location":"development/architecture/#resource-limits","title":"Resource Limits","text":"<p>Recommended for typical deployment:</p> <ul> <li>CPU: 1-2 cores</li> <li>Memory: 512MB-2GB (depends on library size)</li> <li>Storage: Depends on thumbnail cache size</li> </ul>"},{"location":"development/architecture/#scalability","title":"Scalability","text":"<p>Current limitations (single-user design):</p> <ul> <li>Single SQLite database (not distributed)</li> <li>Single server instance (no horizontal scaling)</li> <li>Suitable for personal/family use (not multi-tenant)</li> </ul> <p>Future considerations:</p> <ul> <li>PostgreSQL support for multi-user scenarios</li> <li>Distributed caching for multiple instances</li> <li>Read replicas for database queries</li> </ul>"},{"location":"development/contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing to Media Viewer!</p> <p>For complete contributing guidelines, please see the CONTRIBUTING.md file in the root of the repository.</p>"},{"location":"development/contributing/#quick-links","title":"Quick Links","text":"<ul> <li>Report a Bug - Found an issue? Let us know</li> <li>Request a Feature - Have an idea? We'd love to hear it</li> <li>Discussions - Ask questions or share ideas</li> </ul>"},{"location":"development/contributing/#overview","title":"Overview","text":"<p>The main contributing guide covers:</p> <ul> <li>Setting up your development environment</li> <li>Code style guidelines</li> <li>Testing requirements</li> <li>Pull request process</li> <li>Commit message conventions</li> <li>Issue reporting templates</li> </ul>"},{"location":"development/contributing/#documentation","title":"Documentation","text":"<p>If you're specifically interested in contributing to documentation:</p> <ol> <li>Documentation is written in Markdown</li> <li>Source files are in the <code>docs/</code> directory</li> <li>Built with MkDocs Material theme</li> <li>Follow the MkDocs documentation for formatting</li> </ol> <p>To preview documentation changes locally:</p> <pre><code>make docs-serve\n</code></pre> <p>Then open <code>http://localhost:8000</code> in your browser.</p>"},{"location":"development/contributing/#getting-help","title":"Getting Help","text":"<p>If you have questions about contributing:</p> <ul> <li>Check the Architecture documentation for technical details</li> <li>Open a Discussion</li> <li>Comment on an existing issue</li> </ul> <p>We appreciate your contributions!</p>"},{"location":"features/pwa/","title":"Progressive Web App","text":"<p>Media Viewer can be installed as a Progressive Web App (PWA) on supported devices, providing a native app-like experience.</p>"},{"location":"features/pwa/#benefits","title":"Benefits","text":"<p>Installing Media Viewer as a PWA provides:</p> <ul> <li>Full-screen experience: No browser chrome or address bar</li> <li>Home screen icon: Launch directly from your device</li> <li>Faster loading: Cached resources load quickly</li> <li>Offline thumbnails: Previously viewed thumbnails remain available</li> </ul>"},{"location":"features/pwa/#installation","title":"Installation","text":""},{"location":"features/pwa/#ios-safari","title":"iOS (Safari)","text":"<ol> <li>Open Media Viewer in Safari</li> <li>Tap the Share button (square with arrow)</li> <li>Scroll down and tap Add to Home Screen</li> <li>Optionally edit the name</li> <li>Tap Add</li> </ol>"},{"location":"features/pwa/#android-chrome","title":"Android (Chrome)","text":"<ol> <li>Open Media Viewer in Chrome</li> <li>Tap the menu button (three dots)</li> <li>Tap Add to Home Screen or Install App</li> <li>Confirm the installation</li> </ol>"},{"location":"features/pwa/#desktop-chromeedge","title":"Desktop (Chrome/Edge)","text":"<ol> <li>Open Media Viewer in Chrome or Edge</li> <li>Click the install icon in the address bar (or menu)</li> <li>Click Install</li> </ol>"},{"location":"features/pwa/#using-the-pwa","title":"Using the PWA","text":""},{"location":"features/pwa/#launching","title":"Launching","text":"<p>Tap the Media Viewer icon on your home screen or app drawer. The app opens in full-screen mode without browser controls.</p>"},{"location":"features/pwa/#navigation","title":"Navigation","text":"<ul> <li>Use in-app navigation (breadcrumbs, back gestures)</li> <li>The browser back button is not available in PWA mode</li> <li>Press ++escape++ to navigate up or close overlays</li> </ul>"},{"location":"features/pwa/#session-management","title":"Session Management","text":"<p>The PWA maintains your session like the browser version:</p> <ul> <li>Sessions expire based on server configuration</li> <li>You'll need to log in again after session expiration</li> <li>Active use keeps the session alive</li> </ul>"},{"location":"features/pwa/#limitations","title":"Limitations","text":""},{"location":"features/pwa/#no-browser-controls","title":"No Browser Controls","text":"<p>In PWA mode, you don't have access to:</p> <ul> <li>Browser back/forward buttons (use in-app navigation)</li> <li>Address bar (use search instead)</li> <li>Browser bookmarks (use favorites instead)</li> </ul>"},{"location":"features/pwa/#offline-access","title":"Offline Access","text":"<p>The PWA caches:</p> <ul> <li>Application code and styles</li> <li>Previously viewed thumbnails</li> </ul> <p>The PWA does not cache:</p> <ul> <li>Full-resolution images and videos</li> <li>New content not yet viewed</li> </ul> <p>An internet connection is required to:</p> <ul> <li>Log in</li> <li>Browse new content</li> <li>View full-resolution media</li> <li>Make changes (tags, favorites)</li> </ul>"},{"location":"features/pwa/#troubleshooting","title":"Troubleshooting","text":""},{"location":"features/pwa/#pwa-not-installing","title":"PWA Not Installing","text":"<ul> <li>Ensure you're using HTTPS (required for PWA)</li> <li>Try clearing browser cache</li> <li>Check that the browser supports PWA installation</li> </ul>"},{"location":"features/pwa/#session-issues","title":"Session Issues","text":"<p>If you're frequently logged out:</p> <ul> <li>Check your network connection</li> <li>The server may have a short session duration</li> <li>Contact your administrator to adjust <code>SESSION_DURATION</code></li> </ul>"},{"location":"features/pwa/#clearing-pwa-data","title":"Clearing PWA Data","text":"<p>To reset the PWA:</p> <ol> <li>Uninstall the PWA from your device</li> <li>Clear browser data for the Media Viewer site</li> <li>Reinstall the PWA</li> </ol>"},{"location":"features/selection-mode/","title":"Selection Mode","text":"<p>Selection mode allows you to perform bulk operations on multiple items at once, including tagging, favoriting, and tag copy/paste operations.</p>"},{"location":"features/selection-mode/#entering-selection-mode","title":"Entering Selection Mode","text":""},{"location":"features/selection-mode/#desktop","title":"Desktop","text":"<p>Click the checkbox area at the bottom of any gallery item. The checkbox area shows \"Select\" text on hover.</p>"},{"location":"features/selection-mode/#mobile","title":"Mobile","text":"<p>Long-press (touch and hold) any item for about half a second. A brief vibration confirms entry into selection mode.</p>"},{"location":"features/selection-mode/#selection-interface","title":"Selection Interface","text":"<p>When selection mode is active:</p> <ul> <li>A toolbar appears at the bottom of the screen</li> <li>Selected items show a checkmark overlay</li> <li>Unselected items appear slightly dimmed</li> <li>The selection count is displayed in the toolbar</li> </ul>"},{"location":"features/selection-mode/#selecting-items","title":"Selecting Items","text":""},{"location":"features/selection-mode/#individual-selection","title":"Individual Selection","text":"<ul> <li>Click/tap any item to toggle its selection</li> <li>Click the checkbox on desktop to toggle selection</li> </ul>"},{"location":"features/selection-mode/#select-all","title":"Select All","text":"<p>Click the All button in the toolbar or press ++ctrl+a++ to select all items in the current view.</p> <p>If all items are already selected, this action deselects all items.</p>"},{"location":"features/selection-mode/#drag-selection-mobile","title":"Drag Selection (Mobile)","text":"<p>After entering selection mode via long-press:</p> <ol> <li>Keep your finger on the screen</li> <li>Drag across other items</li> <li>Items you drag over are automatically selected</li> </ol>"},{"location":"features/selection-mode/#available-actions","title":"Available Actions","text":"<p>The selection toolbar provides these actions:</p>"},{"location":"features/selection-mode/#copy-tags","title":"Copy Tags","text":"<p>Available when exactly 1 item is selected</p> <p>Copies all tags from the selected item to a clipboard for pasting to other items.</p> <ul> <li>Click Copy Tags or press ++ctrl+c++</li> <li>A confirmation message shows how many tags were copied</li> </ul>"},{"location":"features/selection-mode/#paste-tags","title":"Paste Tags","text":"<p>Available when items are selected and tags have been copied</p> <p>Pastes previously copied tags to selected items.</p> <ul> <li>Click Paste Tags or press ++ctrl+v++</li> <li>A modal appears showing tags to paste</li> <li>Select/deselect individual tags as needed</li> <li>Click Paste Tags to apply</li> </ul> <p>The source item (where tags were copied from) is automatically excluded from paste destinations.</p>"},{"location":"features/selection-mode/#merge-tags","title":"Merge Tags","text":"<p>Available when 2 or more items are selected</p> <p>Collects all unique tags from selected items and applies them to all selected items.</p> <ul> <li>Click Merge Tags or press ++ctrl+m++</li> <li>A modal shows all tags found across selected items</li> <li>Tags not present on all items show a count (e.g., \"2/3\")</li> <li>Select tags to apply and click Merge Tags</li> </ul>"},{"location":"features/selection-mode/#tag","title":"Tag","text":"<p>Opens the bulk tag modal to add or remove tags from all selected items.</p> <ul> <li>Click Tag or press ++t++</li> <li>Add new tags or remove existing ones</li> <li>Changes apply to all selected items</li> </ul>"},{"location":"features/selection-mode/#favorite","title":"Favorite","text":"<p>Adds all selected items to favorites.</p> <ul> <li>Click Favorite or press ++f++</li> <li>Items already in favorites are skipped</li> <li>A confirmation shows how many items were added</li> </ul>"},{"location":"features/selection-mode/#exiting-selection-mode","title":"Exiting Selection Mode","text":"<ul> <li>Click the X button in the selection toolbar</li> <li>Press ++escape++</li> <li>Complete an action (tagging, favoriting, pasting)</li> </ul>"},{"location":"features/selection-mode/#selection-mode-tips","title":"Selection Mode Tips","text":""},{"location":"features/selection-mode/#efficient-bulk-tagging","title":"Efficient Bulk Tagging","text":"<ol> <li>Enter selection mode</li> <li>Select items that should share a tag</li> <li>Click Tag and add the common tag</li> <li>Selection mode exits automatically</li> </ol>"},{"location":"features/selection-mode/#copying-tags-between-items","title":"Copying Tags Between Items","text":"<ol> <li>Select the source item (with tags you want to copy)</li> <li>Press ++ctrl+c++ to copy its tags</li> <li>Select destination items</li> <li>Press ++ctrl+v++ to paste</li> <li>Confirm which tags to apply</li> </ol>"},{"location":"features/selection-mode/#merging-tags-across-items","title":"Merging Tags Across Items","text":"<p>Use merge when you have related items with different tags and want them all to share the same tags:</p> <ol> <li>Select all related items</li> <li>Press ++ctrl+m++</li> <li>Review and confirm the merged tag set</li> <li>All items now have all the tags</li> </ol>"},{"location":"features/selection-mode/#mobile-workflow","title":"Mobile Workflow","text":"<p>On mobile, selection mode is optimized for touch:</p> <ol> <li>Long-press to enter selection mode</li> <li>Tap items to select/deselect</li> <li>Drag to select multiple items quickly</li> <li>Use toolbar buttons for actions</li> </ol>"},{"location":"features/tag-management/","title":"Tag Management","text":"<p>This page covers advanced tag management features and workflows.</p>"},{"location":"features/tag-management/#tag-display","title":"Tag Display","text":""},{"location":"features/tag-management/#gallery-items-desktop","title":"Gallery Items (Desktop)","text":"<p>On desktop, tags appear below each gallery item in \"X | tag\" format:</p> <ul> <li>The X on the left removes the tag when clicked</li> <li>The tag name on the right searches for that tag when clicked</li> <li>Up to 3 tags are shown</li> <li>Additional tags show as \"+N\" indicator</li> </ul>"},{"location":"features/tag-management/#gallery-items-mobile","title":"Gallery Items (Mobile)","text":"<p>On mobile, tags appear as simple chips overlaid on the thumbnail:</p> <ul> <li>Tap a tag to search for it</li> <li>Tap \"+N\" to see all tags</li> </ul>"},{"location":"features/tag-management/#tag-overflow-tooltip","title":"Tag Overflow Tooltip","text":"<p>When an item has more than 3 tags:</p> <ol> <li>Click the \"+N\" indicator</li> <li>A tooltip shows all tags</li> <li>Each tag has the same \"X | tag\" format</li> <li>Click X to remove, click tag name to search</li> <li>Click outside to close</li> </ol>"},{"location":"features/tag-management/#tag-operations","title":"Tag Operations","text":""},{"location":"features/tag-management/#adding-tags","title":"Adding Tags","text":"<p>Tags can be added from:</p> <ul> <li>Tag modal (via tag button on item)</li> <li>Lightbox (via tag button)</li> <li>Selection mode (bulk tagging)</li> </ul>"},{"location":"features/tag-management/#removing-tags","title":"Removing Tags","text":"<p>Tags can be removed from:</p> <ul> <li>Tag modal (click X on tag chip)</li> <li>Gallery item (click X on tag, desktop only)</li> <li>Tag overflow tooltip (click X on tag)</li> <li>Lightbox tag display (click X on tag)</li> </ul>"},{"location":"features/tag-management/#searching-by-tag","title":"Searching by Tag","text":"<p>Click any tag anywhere in the interface to search for all items with that tag.</p>"},{"location":"features/tag-management/#bulk-tag-operations","title":"Bulk Tag Operations","text":""},{"location":"features/tag-management/#adding-tags-to-multiple-items","title":"Adding Tags to Multiple Items","text":"<ol> <li>Enter selection mode</li> <li>Select target items</li> <li>Click Tag in the toolbar</li> <li>Add tags in the modal</li> <li>Tags are added to all selected items</li> </ol>"},{"location":"features/tag-management/#removing-tags-from-multiple-items","title":"Removing Tags from Multiple Items","text":"<ol> <li>Enter selection mode</li> <li>Select target items</li> <li>Click Tag in the toolbar</li> <li>In the modal, existing tags show which are common to all items</li> <li>Click X on a tag to remove it from all selected items</li> </ol>"},{"location":"features/tag-management/#copy-and-paste","title":"Copy and Paste","text":"<p>Copy tags from one item to others:</p> <ol> <li>Select source item</li> <li>Copy tags (++ctrl+c++)</li> <li>Select destination items</li> <li>Paste tags (++ctrl+v++)</li> <li>Confirm in modal</li> </ol>"},{"location":"features/tag-management/#merge","title":"Merge","text":"<p>Combine tags from multiple items:</p> <ol> <li>Select items to merge</li> <li>Merge tags (++ctrl+m++)</li> <li>All unique tags are collected</li> <li>Confirm which to apply</li> <li>All selected items receive all selected tags</li> </ol>"},{"location":"features/tag-management/#tag-suggestions","title":"Tag Suggestions","text":"<p>When adding tags, the system suggests existing tags:</p> <ul> <li>Suggestions appear as you type</li> <li>Shows tag name and item count</li> <li>Click to add the suggested tag</li> <li>Helps maintain consistent tag naming</li> </ul>"},{"location":"features/tag-management/#best-practices","title":"Best Practices","text":""},{"location":"features/tag-management/#naming-conventions","title":"Naming Conventions","text":"<ul> <li>Use lowercase for consistency</li> <li>Use hyphens for multi-word tags: <code>family-reunion</code></li> <li>Consider prefixes for categories: <code>location-beach</code>, <code>event-birthday</code></li> </ul>"},{"location":"features/tag-management/#hierarchical-organization","title":"Hierarchical Organization","text":"<p>Create logical groupings with prefixes:</p> <pre><code>location-beach\nlocation-mountain\nlocation-city\n\nevent-birthday\nevent-wedding\nevent-holiday\n\nyear-2024\nyear-2023\n</code></pre>"},{"location":"features/tag-management/#tag-cleanup","title":"Tag Cleanup","text":"<p>Periodically review your tags:</p> <ol> <li>Search for each tag to see its contents</li> <li>Remove tags from misclassified items</li> <li>Merge similar tags by:<ul> <li>Searching for the old tag</li> <li>Selecting all results</li> <li>Adding the new tag</li> <li>Removing the old tag</li> </ul> </li> </ol>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>Media Viewer is configured through environment variables. This page documents all available options.</p>"},{"location":"getting-started/configuration/#core-settings","title":"Core Settings","text":""},{"location":"getting-started/configuration/#media_dir","title":"MEDIA_DIR","text":"<p>Path to your media directory inside the container. Defaults to <code>/media</code>.</p> <pre><code>MEDIA_DIR=/media\n</code></pre>"},{"location":"getting-started/configuration/#cache_dir","title":"CACHE_DIR","text":"<p>Path where thumbnails and transcoded videos are stored. Defaults to <code>/cache</code>.</p> <pre><code>CACHE_DIR=/cache\n</code></pre>"},{"location":"getting-started/configuration/#database_dir","title":"DATABASE_DIR","text":"<p>Path where the SQLite database is stored. Defaults to <code>/database</code>.</p> <pre><code>DATABASE_DIR=/database\n</code></pre>"},{"location":"getting-started/configuration/#port","title":"PORT","text":"<p>Port the application listens on. Defaults to <code>8080</code>.</p> <pre><code>PORT=8080\n</code></pre>"},{"location":"getting-started/configuration/#session-settings","title":"Session Settings","text":""},{"location":"getting-started/configuration/#session_duration","title":"SESSION_DURATION","text":"<p>Duration of user sessions. Uses Go duration format (e.g., <code>1h</code>, <code>30m</code>, <code>24h</code>).</p> <p>Default: <code>24h</code></p> <pre><code>SESSION_DURATION=24h\n</code></pre> <p>Common values:</p> Duration Value 30 min <code>30m</code> 1 hour <code>1h</code> 4 hours <code>4h</code> 24 hours <code>24h</code> 7 days <code>168h</code> <p>Minimum Duration</p> <p>Setting <code>SESSION_DURATION</code> below <code>5m</code> is not recommended as it may cause sessions to expire between keepalive intervals.</p>"},{"location":"getting-started/configuration/#session_cleanup","title":"SESSION_CLEANUP","text":"<p>How often to clean up expired sessions from the database. Defaults to <code>1h</code>.</p> <pre><code>SESSION_CLEANUP=1h\n</code></pre>"},{"location":"getting-started/configuration/#indexing-settings","title":"Indexing Settings","text":""},{"location":"getting-started/configuration/#index_interval","title":"INDEX_INTERVAL","text":"<p>How often to perform a full re-index of the media directory. Defaults to <code>30m</code>.</p> <pre><code>INDEX_INTERVAL=30m\n</code></pre>"},{"location":"getting-started/configuration/#poll_interval","title":"POLL_INTERVAL","text":"<p>How often to check for filesystem changes (lightweight scan). Defaults to <code>30s</code>.</p> <pre><code>POLL_INTERVAL=30s\n</code></pre>"},{"location":"getting-started/configuration/#thumbnail_interval","title":"THUMBNAIL_INTERVAL","text":"<p>How often the thumbnail generator performs a full scan. Defaults to <code>6h</code>.</p> <pre><code>THUMBNAIL_INTERVAL=6h\n</code></pre>"},{"location":"getting-started/configuration/#metrics-settings","title":"Metrics Settings","text":""},{"location":"getting-started/configuration/#metrics_enabled","title":"METRICS_ENABLED","text":"<p>Enable or disable the Prometheus metrics server. Defaults to <code>true</code>.</p> <pre><code>METRICS_ENABLED=true\n</code></pre>"},{"location":"getting-started/configuration/#metrics_port","title":"METRICS_PORT","text":"<p>Port for the Prometheus metrics endpoint. Defaults to <code>9090</code>.</p> <pre><code>METRICS_PORT=9090\n</code></pre>"},{"location":"getting-started/configuration/#logging-settings","title":"Logging Settings","text":""},{"location":"getting-started/configuration/#log_level","title":"LOG_LEVEL","text":"<p>Server log level. Defaults to <code>info</code>.</p> <p>Options: <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code></p> <pre><code>LOG_LEVEL=info\n</code></pre>"},{"location":"getting-started/configuration/#log_static_files","title":"LOG_STATIC_FILES","text":"<p>Log static file requests. Defaults to <code>false</code>.</p> <pre><code>LOG_STATIC_FILES=false\n</code></pre>"},{"location":"getting-started/configuration/#log_health_checks","title":"LOG_HEALTH_CHECKS","text":"<p>Log health check endpoint requests. Defaults to <code>true</code>.</p> <pre><code>LOG_HEALTH_CHECKS=true\n</code></pre>"},{"location":"getting-started/configuration/#webauthn-settings","title":"WebAuthn Settings","text":"<p>See WebAuthn Setup for detailed configuration.</p>"},{"location":"getting-started/configuration/#webauthn_enabled","title":"WEBAUTHN_ENABLED","text":"<p>Enable passkey (WebAuthn) authentication. Defaults to <code>false</code>.</p> <pre><code>WEBAUTHN_ENABLED=true\n</code></pre>"},{"location":"getting-started/configuration/#webauthn_rp_id","title":"WEBAUTHN_RP_ID","text":"<p>WebAuthn Relying Party ID (your domain).</p> <pre><code>WEBAUTHN_RP_ID=example.com\n</code></pre>"},{"location":"getting-started/configuration/#webauthn_rp_name","title":"WEBAUTHN_RP_NAME","text":"<p>Display name shown in authenticator prompts. Defaults to <code>Media Viewer</code>.</p> <pre><code>WEBAUTHN_RP_NAME=\"My Media Library\"\n</code></pre>"},{"location":"getting-started/configuration/#webauthn_origins","title":"WEBAUTHN_ORIGINS","text":"<p>Comma-separated list of allowed origins.</p> <pre><code>WEBAUTHN_ORIGINS=https://example.com,https://media.example.com\n</code></pre>"},{"location":"getting-started/configuration/#memory-settings","title":"Memory Settings","text":""},{"location":"getting-started/configuration/#memory_limit","title":"MEMORY_LIMIT","text":"<p>Container memory limit in bytes (typically set via Kubernetes Downward API).</p> <pre><code>MEMORY_LIMIT=536870912  # 512MB\n</code></pre>"},{"location":"getting-started/configuration/#memory_ratio","title":"MEMORY_RATIO","text":"<p>Percentage of container memory to allocate to Go heap (0.0-1.0). Defaults to <code>0.85</code>.</p> <pre><code>MEMORY_RATIO=0.85\n</code></pre>"},{"location":"getting-started/configuration/#gomemlimit","title":"GOMEMLIMIT","text":"<p>Direct override for Go's memory limit. Accepts values like <code>400MiB</code> or <code>1GiB</code>.</p> <pre><code>GOMEMLIMIT=400MiB\n</code></pre> <p>Note: If using Kubernetes, it is recommended to set this using the Downward API, e.g. in the container spec:</p> <pre><code>env:\n    - name: MEMORY_LIMIT\n        valueFrom:\n        resourceFieldRef:\n            resource: limits.memory\n</code></pre>"},{"location":"getting-started/configuration/#volume-mounts","title":"Volume Mounts","text":""},{"location":"getting-started/configuration/#media-directory","title":"Media Directory","text":"<p>Mount your media library as read-only for security:</p> <pre><code>-v /path/to/media:/media:ro\n</code></pre>"},{"location":"getting-started/configuration/#cache-directory","title":"Cache Directory","text":"<p>Persist thumbnails and transcoded videos:</p> <pre><code>-v media-cache:/cache\n</code></pre>"},{"location":"getting-started/configuration/#database-directory","title":"Database Directory","text":"<p>Persist application database (user, sessions, tags, favorites):</p> <pre><code>-v media-database:/database\n</code></pre>"},{"location":"getting-started/configuration/#example-configurations","title":"Example Configurations","text":""},{"location":"getting-started/configuration/#minimal-configuration","title":"Minimal Configuration","text":"<pre><code>services:\n    media-viewer:\n        image: ghcr.io/djryanj/media-viewer:latest\n        ports:\n            - '8080:8080'\n        volumes:\n            - /photos:/media:ro\n            - cache:/cache\n            - database:/database\n\nvolumes:\n    cache:\n    database:\n</code></pre>"},{"location":"getting-started/configuration/#production-configuration","title":"Production Configuration","text":"<pre><code>services:\n    media-viewer:\n        image: ghcr.io/djryanj/media-viewer:latest\n        ports:\n            - '8080:8080'\n            - '9090:9090'\n        volumes:\n            - /mnt/storage/media:/media:ro\n            - /var/lib/media-viewer/cache:/cache\n            - /var/lib/media-viewer/database:/database\n        environment:\n            - MEDIA_DIR=/media\n            - SESSION_DURATION=12h\n            - INDEX_INTERVAL=1h\n            - THUMBNAIL_INTERVAL=12h\n            - METRICS_ENABLED=true\n            - LOG_LEVEL=info\n            - LOG_STATIC_FILES=false\n        restart: unless-stopped\n        healthcheck:\n            test:\n                ['CMD', 'wget', '--quiet', '--tries=1', '--spider', 'http://localhost:8080/health']\n            interval: 30s\n            timeout: 10s\n            retries: 3\n            start_period: 10s\n</code></pre>"},{"location":"getting-started/configuration/#development-configuration","title":"Development Configuration","text":"<pre><code>services:\n    media-viewer:\n        image: ghcr.io/djryanj/media-viewer:latest\n        ports:\n            - '8080:8080'\n            - '9090:9090'\n        volumes:\n            - ./sample-media:/media:ro\n            - dev-cache:/cache\n            - dev-database:/database\n        environment:\n            - LOG_LEVEL=debug\n            - LOG_STATIC_FILES=true\n            - INDEX_INTERVAL=5m\n            - THUMBNAIL_INTERVAL=30m\n\nvolumes:\n    dev-cache:\n    dev-database:\n</code></pre>"},{"location":"getting-started/configuration/#reverse-proxy-setup","title":"Reverse Proxy Setup","text":"<p>When running behind a reverse proxy (nginx, Traefik, Caddy), configure it to properly forward requests.</p>"},{"location":"getting-started/configuration/#nginx-example","title":"Nginx Example","text":"<pre><code>server {\n    listen 443 ssl http2;\n    server_name media.example.com;\n\n    ssl_certificate /path/to/cert.pem;\n    ssl_certificate_key /path/to/key.pem;\n\n    location / {\n        proxy_pass http://localhost:8080;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n\n        # Increase timeouts for large file uploads/streaming\n        proxy_read_timeout 300s;\n        proxy_send_timeout 300s;\n    }\n}\n</code></pre>"},{"location":"getting-started/configuration/#traefik-example-docker-labels","title":"Traefik Example (Docker Labels)","text":"<pre><code>services:\n    media-viewer:\n        image: ghcr.io/djryanj/media-viewer:latest\n        labels:\n            - 'traefik.enable=true'\n            - 'traefik.http.routers.media-viewer.rule=Host(`media.example.com`)'\n            - 'traefik.http.routers.media-viewer.entrypoints=websecure'\n            - 'traefik.http.routers.media-viewer.tls.certresolver=letsencrypt'\n            - 'traefik.http.services.media-viewer.loadbalancer.server.port=8080'\n</code></pre>"},{"location":"getting-started/configuration/#caddy-example","title":"Caddy Example","text":"<pre><code>media.example.com {\n    reverse_proxy localhost:8080\n}\n</code></pre>"},{"location":"getting-started/configuration/#duration-format-reference","title":"Duration Format Reference","text":"<p>Many settings use Go's duration format:</p> Unit Suffix Example Nanoseconds <code>ns</code> <code>500ns</code> Microseconds <code>us</code> <code>100us</code> Milliseconds <code>ms</code> <code>500ms</code> Seconds <code>s</code> <code>30s</code> Minutes <code>m</code> <code>30m</code> Hours <code>h</code> <code>6h</code> <p>You can combine units: <code>1h30m</code> (1 hour 30 minutes)</p> <p>No Day Unit</p> <p>Go's duration format doesn't support a \"day\" unit. Use hours instead (e.g., <code>24h</code> for one day, <code>168h</code> for one week).</p>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Media Viewer can be deployed using Docker (recommended) or built from source with Go.</p>"},{"location":"getting-started/installation/#docker-installation","title":"Docker Installation","text":"<p>Docker is the recommended installation method as it handles all dependencies automatically.</p>"},{"location":"getting-started/installation/#using-docker-compose","title":"Using Docker Compose","text":"<p>Create a <code>docker-compose.yml</code> file:</p> <pre><code>version: '3.8'\n\nservices:\n    media-viewer:\n        image: ghcr.io/djryanj/media-viewer:latest\n        container_name: media-viewer\n        ports:\n            - '8080:8080'\n            - '9090:9090'\n        volumes:\n            - /path/to/your/media:/media:ro\n            - media-cache:/cache\n            - media-database:/database\n        environment:\n            - MEDIA_DIR=/media\n            - CACHE_DIR=/cache\n            - DATABASE_DIR=/database\n            - PORT=8080\n            - METRICS_PORT=9090\n            - METRICS_ENABLED=true\n            - INDEX_INTERVAL=30m\n            - SESSION_DURATION=24h\n        restart: unless-stopped\n\nvolumes:\n    media-cache:\n    media-database:\n</code></pre> <p>Start the application:</p> <pre><code>docker-compose up -d\n</code></pre>"},{"location":"getting-started/installation/#using-docker-run","title":"Using Docker Run","text":"<pre><code>docker run -d \\\n  --name media-viewer \\\n  -p 8080:8080 \\\n  -p 9090:9090 \\\n  -v /path/to/your/media:/media:ro \\\n  -v media-cache:/cache \\\n  -v media-database:/database \\\n  ghcr.io/djryanj/media-viewer:latest\n</code></pre>"},{"location":"getting-started/installation/#building-from-source","title":"Building from Source","text":"<p>For development or custom deployments:</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Go 1.21 or later</li> <li>FFmpeg</li> <li>GCC (for SQLite CGO compilation)</li> <li>Node.js 18+ (for frontend development tools only)</li> </ul>"},{"location":"getting-started/installation/#steps","title":"Steps","text":"<ol> <li> <p>Clone the repository:</p> <pre><code>git clone https://github.com/djryanj/media-viewer.git\ncd media-viewer\n</code></pre> </li> <li> <p>Build the application:</p> <pre><code>go build -tags 'fts5' -o media-viewer .\n</code></pre> </li> <li> <p>(Optional) Build the password reset utility:</p> <pre><code>go build -tags 'fts5' -o resetpw ./cmd/resetpw\n</code></pre> </li> <li> <p>Configure environment variables (see Configuration)</p> </li> <li> <p>Start the server:</p> <pre><code>./media-viewer\n</code></pre> </li> </ol>"},{"location":"getting-started/installation/#initial-setup","title":"Initial Setup","text":"<p>On first run, Media Viewer will prompt you to create a password:</p> <ol> <li>Access the application at <code>http://localhost:8080</code></li> <li>You'll be redirected to the setup page</li> <li>Create a secure password (minimum 6 characters)</li> <li>Click Create Password</li> <li>You'll be automatically logged in</li> </ol>"},{"location":"getting-started/installation/#verifying-installation","title":"Verifying Installation","text":"<p>Once running, access Media Viewer at <code>http://localhost:8080</code> (or your configured port). You should see either:</p> <ul> <li>The setup page (first time) - create your password</li> <li>The login page (subsequent runs) - enter your password</li> </ul>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Configure your installation</li> <li>Follow the Quick Start guide</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>This guide covers the essential features to get you started with Media Viewer in five minutes.</p>"},{"location":"getting-started/quick-start/#first-time-setup","title":"First-Time Setup","text":"<p>On first run, you'll need to create a password:</p> <ol> <li>Navigate to your Media Viewer URL (e.g., <code>http://localhost:8080</code>)</li> <li>You'll be redirected to the setup page</li> <li>Enter a secure password (minimum 6 characters)</li> <li>Click Create Password</li> <li>You'll be automatically logged in</li> </ol>"},{"location":"getting-started/quick-start/#logging-in","title":"Logging In","text":"<p>For subsequent visits:</p> <ol> <li>Navigate to your Media Viewer URL</li> <li>Enter your password</li> <li>Click Login or press ++enter++</li> </ol>"},{"location":"getting-started/quick-start/#browsing-your-library","title":"Browsing Your Library","text":"<p>After logging in, you'll see the main gallery view displaying your media files and folders.</p>"},{"location":"getting-started/quick-start/#navigation","title":"Navigation","text":"<ul> <li>Click a folder to open it</li> <li>Use the breadcrumb at the top to navigate back to parent folders</li> <li>Click the home icon to return to the root directory</li> </ul>"},{"location":"getting-started/quick-start/#sorting-and-filtering","title":"Sorting and Filtering","text":"<p>Use the controls at the top of the gallery:</p> <ul> <li>Sort by: Name, Date, Size, or Type</li> <li>Sort order: Click the arrow icon to toggle ascending/descending</li> <li>Filter: Show All, Images only, Videos only, or Playlists only</li> </ul>"},{"location":"getting-started/quick-start/#viewing-media","title":"Viewing Media","text":""},{"location":"getting-started/quick-start/#images","title":"Images","text":"<p>Click any image thumbnail to open it in the lightbox viewer. From the lightbox:</p> <ul> <li>Use arrow keys or swipe to navigate between images</li> <li>Press ++escape++ to close</li> <li>Click the star icon to add to favorites</li> <li>Click the tag icon to manage tags</li> </ul>"},{"location":"getting-started/quick-start/#videos","title":"Videos","text":"<p>Click a video thumbnail to open it in the lightbox. Video controls appear on hover.</p>"},{"location":"getting-started/quick-start/#using-favorites","title":"Using Favorites","text":"<p>Favorites provide quick access to frequently viewed items.</p>"},{"location":"getting-started/quick-start/#adding-favorites","title":"Adding Favorites","text":"<ul> <li>Double-tap (mobile) or double-click (desktop) any item</li> <li>Or click the star icon on the item thumbnail</li> <li>Or open the item and click the star icon in the lightbox</li> </ul>"},{"location":"getting-started/quick-start/#viewing-favorites","title":"Viewing Favorites","text":"<p>Favorites appear in a horizontal strip at the top of the gallery when you have items marked as favorites.</p>"},{"location":"getting-started/quick-start/#basic-tagging","title":"Basic Tagging","text":"<p>Tags help organize your media into categories.</p>"},{"location":"getting-started/quick-start/#adding-tags","title":"Adding Tags","text":"<ol> <li>Click the tag icon on any item thumbnail</li> <li>Type a tag name in the input field</li> <li>Press ++enter++ or click Add</li> <li>Repeat for additional tags</li> </ol>"},{"location":"getting-started/quick-start/#searching-by-tag","title":"Searching by Tag","text":"<ul> <li>Click any tag to search for all items with that tag</li> <li>Or type <code>tag:tagname</code> in the search box</li> </ul>"},{"location":"getting-started/quick-start/#search","title":"Search","text":"<p>Use the search box at the top to find media:</p> <ul> <li>By name: Type any part of the filename</li> <li>By tag: Click any tag chip or use the search box</li> <li>By type: Use the filter dropdown</li> </ul> <p>The search provides suggestions as you type. Press ++enter++ to see full search results.</p>"},{"location":"getting-started/quick-start/#mobile-usage","title":"Mobile Usage","text":"<p>Media Viewer is fully responsive and works on mobile devices.</p>"},{"location":"getting-started/quick-start/#installing-as-an-app","title":"Installing as an App","text":"<p>On supported devices, you can install Media Viewer as a Progressive Web App:</p> <p>Android (Chrome, Edge, Samsung Internet):</p> <ol> <li>Open Media Viewer in your mobile browser</li> <li>Tap the three-dot menu (\u22ee)</li> <li>Tap \"Add to Home Screen\" or \"Install App\"</li> <li>Launch from your home screen for a full-screen experience</li> </ol> <p>iOS (Safari):</p> <ol> <li>Open Media Viewer in Safari</li> <li>Tap the Share button (square with arrow)</li> <li>Tap \"Add to Home Screen\"</li> <li>Launch from your home screen for a full-screen experience</li> </ol>"},{"location":"getting-started/quick-start/#touch-gestures","title":"Touch Gestures","text":"<ul> <li>Tap: Open item or folder</li> <li>Double-tap: Toggle favorite</li> <li>Long-press: Enter selection mode (bulk operations)</li> <li>Swipe: Navigate in lightbox</li> </ul>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Selection Mode for bulk operations</li> <li>Explore Tag Management for advanced organization</li> <li>Review Keyboard Shortcuts to speed up your workflow</li> <li>Set up Passkey Authentication for passwordless login</li> </ul>"},{"location":"includes/abbreviations/","title":"Abbreviations","text":"<p>[PWA]: Progressive Web App [API]: Application Programming Interface [UI]: User Interface [UX]: User Experience [CSS]: Cascading Style Sheets [HTML]: HyperText Markup Language [JSON]: JavaScript Object Notation [URL]: Uniform Resource Locator _[HTTPS]: HyperText Transfer Protocol Secure</p>"},{"location":"user-guide/browsing/","title":"Browsing Media","text":"<p>Media Viewer provides an intuitive interface for navigating and viewing your media library.</p>"},{"location":"user-guide/browsing/#gallery-view","title":"Gallery View","text":"<p>The gallery displays your media in a responsive grid layout. The number of columns adjusts based on your screen size.</p>"},{"location":"user-guide/browsing/#item-types","title":"Item Types","text":"<p>Items in the gallery are indicated by visual cues:</p> Type Indicator Folder Folder icon or folder thumbnail Image Image thumbnail Video Image thumbnail with play icon overlay Playlist List icon"},{"location":"user-guide/browsing/#item-information","title":"Item Information","text":"<p>On desktop, each item displays:</p> <ul> <li>Thumbnail or icon</li> <li>File name</li> <li>Type badge (folder, image, video, playlist)</li> <li>File size (for files) or item count (for folders)</li> <li>Tags (up to 3 visible, with +N indicator for more)</li> </ul> <p>On mobile, items show a compact view with the name overlaid on the thumbnail.</p>"},{"location":"user-guide/browsing/#navigation","title":"Navigation","text":""},{"location":"user-guide/browsing/#opening-items","title":"Opening Items","text":"<ul> <li>Folders: Click to enter the folder</li> <li>Images: Click to open in lightbox</li> <li>Videos: Click to open in lightbox</li> <li>Playlists: Click to open in playlist player</li> </ul>"},{"location":"user-guide/browsing/#folder-navigation","title":"Folder Navigation","text":"<p>Use these methods to navigate between folders:</p> <ul> <li>Click folders in the gallery to enter them</li> <li>Click breadcrumb segments to jump to parent folders</li> <li>Press ++escape++ to go to the parent folder (when no overlay is open)</li> <li>Use browser back/forward buttons</li> </ul>"},{"location":"user-guide/browsing/#sorting","title":"Sorting","text":"<p>Control the display order using the sort controls:</p> <p>Sort Fields:</p> <ul> <li>Name: Alphabetical order</li> <li>Date: By modification date</li> <li>Size: By file size</li> <li>Type: Grouped by file type</li> </ul> <p>Sort Order:</p> <p>Click the arrow icon to toggle between ascending and descending order.</p>"},{"location":"user-guide/browsing/#filtering","title":"Filtering","text":"<p>Use the filter dropdown to show specific media types:</p> <ul> <li>All: Show all items</li> <li>Images: Show only images</li> <li>Videos: Show only videos</li> <li>Playlists: Show only playlists</li> </ul>"},{"location":"user-guide/browsing/#lightbox","title":"Lightbox","text":"<p>The lightbox provides a full-screen viewing experience for images and videos.</p>"},{"location":"user-guide/browsing/#opening-the-lightbox","title":"Opening the Lightbox","text":"<p>Click any image or video thumbnail to open it in the lightbox.</p>"},{"location":"user-guide/browsing/#lightbox-controls","title":"Lightbox Controls","text":"Control Action Left/Right arrows Navigate to previous/next item Close button (X) Close lightbox Star icon Toggle favorite Tag icon Open tag manager Play icon Toggle autoplay (images) Loop icon Toggle video loop"},{"location":"user-guide/browsing/#navigation-in-lightbox","title":"Navigation in Lightbox","text":"<ul> <li>Keyboard: Use ++left++ and ++right++ arrow keys</li> <li>Mouse: Click the left/right edges of the screen</li> <li>Touch: Swipe left or right</li> </ul>"},{"location":"user-guide/browsing/#closing-the-lightbox","title":"Closing the Lightbox","text":"<ul> <li>Press ++escape++</li> <li>Click the X button</li> <li>Click outside the media</li> </ul>"},{"location":"user-guide/browsing/#infinite-scroll","title":"Infinite Scroll","text":"<p>The gallery uses infinite scroll to load content as you browse. As you scroll down, additional items load automatically. A loading indicator appears while new items are being fetched.</p> <p>If infinite scroll is unavailable, pagination controls appear at the bottom of the gallery.</p>"},{"location":"user-guide/browsing/#mobile-considerations","title":"Mobile Considerations","text":""},{"location":"user-guide/browsing/#touch-gestures","title":"Touch Gestures","text":"<ul> <li>Tap: Open item</li> <li>Double-tap: Toggle favorite</li> <li>Long-press: Enter selection mode</li> <li>Swipe (in lightbox): Navigate between items</li> </ul>"},{"location":"user-guide/browsing/#landscape-mode","title":"Landscape Mode","text":"<p>When viewing videos in landscape orientation, the interface adapts to maximize the viewing area. Controls appear on tap and auto-hide after a few seconds.</p>"},{"location":"user-guide/browsing/#installing-as-pwa","title":"Installing as PWA","text":"<p>For the best mobile experience, install Media Viewer as a Progressive Web App:</p> <ol> <li>Open Media Viewer in Safari (iOS) or Chrome (Android)</li> <li>Tap the share button (iOS) or menu button (Android)</li> <li>Select \"Add to Home Screen\"</li> <li>Launch from your home screen</li> </ol> <p>The PWA provides:</p> <ul> <li>Full-screen experience without browser chrome</li> <li>Faster loading</li> <li>Offline access to cached thumbnails</li> </ul>"},{"location":"user-guide/favorites/","title":"Favorites","text":"<p>Favorites provide quick access to items you view frequently. Favorited items appear in a dedicated strip at the top of the gallery for one-click access.</p>"},{"location":"user-guide/favorites/#adding-favorites","title":"Adding Favorites","text":"<p>There are several ways to mark an item as a favorite:</p>"},{"location":"user-guide/favorites/#double-tapdouble-click","title":"Double-Tap/Double-Click","text":"<p>The quickest method:</p> <ul> <li>Mobile: Double-tap any item thumbnail</li> <li>Desktop: Double-click any item thumbnail</li> </ul> <p>A brief animation confirms the action.</p>"},{"location":"user-guide/favorites/#star-icon","title":"Star Icon","text":"<p>Click the star icon on any item:</p> <ul> <li>In gallery: Hover over an item to reveal the star icon in the top-right corner</li> <li>In lightbox: Click the star icon in the top-left area</li> </ul>"},{"location":"user-guide/favorites/#selection-mode","title":"Selection Mode","text":"<p>Add multiple favorites at once:</p> <ol> <li>Enter selection mode (long-press on mobile, click checkbox on desktop)</li> <li>Select items to favorite</li> <li>Click the Favorite button in the selection toolbar</li> </ol>"},{"location":"user-guide/favorites/#removing-favorites","title":"Removing Favorites","text":"<p>Use any of the same methods to remove a favorite:</p> <ul> <li>Double-tap/double-click the item again</li> <li>Click the star icon (now shown as filled/highlighted)</li> <li>In selection mode, selected favorites can be toggled</li> </ul>"},{"location":"user-guide/favorites/#favorites-strip","title":"Favorites Strip","text":"<p>When you have favorites, they appear in a horizontal strip below the breadcrumb navigation.</p>"},{"location":"user-guide/favorites/#features","title":"Features","text":"<ul> <li>Scroll horizontally to see all favorites</li> <li>Click any favorite to open it directly</li> <li>Favorites show the same thumbnail and name as in the gallery</li> <li>The star icon on favorites is always visible</li> </ul>"},{"location":"user-guide/favorites/#visibility","title":"Visibility","text":"<p>The favorites strip:</p> <ul> <li>Appears automatically when you have at least one favorite</li> <li>Hides automatically when you remove your last favorite</li> <li>Persists across folders (favorites from any location are shown)</li> </ul>"},{"location":"user-guide/favorites/#favorites-and-folders","title":"Favorites and Folders","text":"<p>You can favorite any item type:</p> <ul> <li>Folders: Favorite frequently accessed folders for quick navigation</li> <li>Images: Favorite images you view often</li> <li>Videos: Favorite videos for quick playback</li> <li>Playlists: Favorite playlists for easy access</li> </ul>"},{"location":"user-guide/favorites/#use-cases","title":"Use Cases","text":""},{"location":"user-guide/favorites/#quick-access","title":"Quick Access","text":"<p>Favorite items you access daily or weekly, such as:</p> <ul> <li>Current project folders</li> <li>Recent photo albums</li> <li>Favorite videos</li> </ul>"},{"location":"user-guide/favorites/#temporary-bookmarks","title":"Temporary Bookmarks","text":"<p>Use favorites as temporary bookmarks while browsing:</p> <ol> <li>Favorite interesting items as you browse</li> <li>Review favorites later</li> <li>Remove favorites after reviewing</li> </ol>"},{"location":"user-guide/favorites/#curated-collections","title":"Curated Collections","text":"<p>Create a curated view of your best content:</p> <ol> <li>Browse your library</li> <li>Favorite standout items</li> <li>The favorites strip becomes a highlight reel</li> </ol>"},{"location":"user-guide/keyboard-shortcuts/","title":"Keyboard Shortcuts","text":"<p>Media Viewer supports keyboard shortcuts for efficient navigation and management.</p>"},{"location":"user-guide/keyboard-shortcuts/#global-shortcuts","title":"Global Shortcuts","text":"<p>These shortcuts work throughout the application:</p> Shortcut Action ++escape++ Close current overlay, go to parent folder, or logout ++slash++ or ++ctrl+k++ Focus search box"},{"location":"user-guide/keyboard-shortcuts/#gallery-shortcuts","title":"Gallery Shortcuts","text":"<p>When browsing the gallery:</p> Shortcut Action ++escape++ Go to parent folder (when no overlay is open)"},{"location":"user-guide/keyboard-shortcuts/#lightbox-shortcuts","title":"Lightbox Shortcuts","text":"<p>When viewing media in the lightbox:</p> Shortcut Action ++left++ Previous item ++right++ Next item ++escape++ Close lightbox ++space++ Play/pause (videos)"},{"location":"user-guide/keyboard-shortcuts/#selection-mode-shortcuts","title":"Selection Mode Shortcuts","text":"<p>When in selection mode:</p> Shortcut Action ++escape++ Exit selection mode ++ctrl+a++ Select all items ++ctrl+c++ Copy tags from selected item ++ctrl+v++ Paste tags to selected items ++ctrl+m++ Merge tags across selected items ++t++ Open tag modal for selected items ++f++ Add selected items to favorites"},{"location":"user-guide/keyboard-shortcuts/#tag-modal-shortcuts","title":"Tag Modal Shortcuts","text":"<p>When the tag modal is open:</p> Shortcut Action ++enter++ Add typed tag ++escape++ Close suggestions, or close modal"},{"location":"user-guide/keyboard-shortcuts/#playlist-player-shortcuts","title":"Playlist Player Shortcuts","text":"<p>When the playlist player is open:</p> Shortcut Action ++space++ Play/pause ++left++ Previous video ++right++ Next video ++escape++ Close player"},{"location":"user-guide/keyboard-shortcuts/#search-shortcuts","title":"Search Shortcuts","text":"<p>When using search:</p> Shortcut Action ++enter++ View all search results ++escape++ Close search results ++up++ / ++down++ Navigate search suggestions"},{"location":"user-guide/keyboard-shortcuts/#tips","title":"Tips","text":""},{"location":"user-guide/keyboard-shortcuts/#escape-key-behavior","title":"Escape Key Behavior","text":"<p>The ++escape++ key follows a logical hierarchy:</p> <ol> <li>Close any open dropdown or suggestions</li> <li>Close any open modal (tag manager, search results)</li> <li>Close lightbox or playlist player</li> <li>Exit selection mode</li> <li>Navigate to parent folder</li> <li>At root with nothing open: logout</li> </ol>"},{"location":"user-guide/keyboard-shortcuts/#selection-mode-entry","title":"Selection Mode Entry","text":"<ul> <li>Desktop: Click the checkbox area on any gallery item</li> <li>Mobile: Long-press any item</li> </ul>"},{"location":"user-guide/keyboard-shortcuts/#quick-favorites","title":"Quick Favorites","text":"<p>Double-click (desktop) or double-tap (mobile) any item to toggle its favorite status without opening it.</p>"},{"location":"user-guide/overview/","title":"User Guide Overview","text":"<p>This guide provides comprehensive documentation for all Media Viewer features. Whether you're browsing your collection, organizing with tags, or managing playlists, you'll find detailed instructions here.</p>"},{"location":"user-guide/overview/#core-concepts","title":"Core Concepts","text":""},{"location":"user-guide/overview/#gallery","title":"Gallery","text":"<p>The gallery is the main interface for browsing your media library. It displays items in a responsive grid that adapts to your screen size. Items can be folders, images, videos, or playlists.</p>"},{"location":"user-guide/overview/#lightbox","title":"Lightbox","text":"<p>The lightbox is a full-screen viewer for images and videos. It provides navigation controls, media information, and quick access to tagging and favorites.</p>"},{"location":"user-guide/overview/#tags","title":"Tags","text":"<p>Tags are labels you assign to media items for organization. An item can have multiple tags, and tags can be searched, filtered, and managed in bulk.</p>"},{"location":"user-guide/overview/#favorites","title":"Favorites","text":"<p>Favorites are bookmarked items that appear in a quick-access strip at the top of the gallery. Use favorites for items you access frequently.</p>"},{"location":"user-guide/overview/#playlists","title":"Playlists","text":"<p>Playlists are collections of videos that play in sequence. They are defined as text files in your media library.</p>"},{"location":"user-guide/overview/#interface-elements","title":"Interface Elements","text":""},{"location":"user-guide/overview/#header","title":"Header","text":"<p>The header contains:</p> <ul> <li>Application title: Click to return to the root directory</li> <li>Search box: Find media by name or tag</li> <li>Sort controls: Change sort field and order</li> <li>Filter dropdown: Show specific media types</li> <li>User controls: Change password, clear cache, logout</li> </ul>"},{"location":"user-guide/overview/#breadcrumb","title":"Breadcrumb","text":"<p>The breadcrumb shows your current location in the folder hierarchy. Click any segment to navigate to that folder.</p>"},{"location":"user-guide/overview/#gallery-grid","title":"Gallery Grid","text":"<p>The main content area displays media items in a grid. On desktop, items show additional metadata including type, size, and tags.</p>"},{"location":"user-guide/overview/#favorites-strip","title":"Favorites Strip","text":"<p>When you have favorites, they appear in a horizontal scrollable strip below the breadcrumb.</p>"},{"location":"user-guide/overview/#stats-bar","title":"Stats Bar","text":"<p>The bottom bar displays library statistics including total images, videos, folders, and favorites.</p>"},{"location":"user-guide/overview/#guide-sections","title":"Guide Sections","text":"<ul> <li>Browsing Media - Navigate and view your library</li> <li>Tagging - Organize with tags</li> <li>Favorites - Bookmark items for quick access</li> <li>Playlists - Create and play video playlists</li> <li>Search - Find media quickly</li> <li>Keyboard Shortcuts - Efficiency shortcuts</li> </ul>"},{"location":"user-guide/playlists/","title":"Playlists","text":"<p>Playlists allow you to create ordered collections of videos that play in sequence. Media Viewer reads playlist files from your media library and provides a dedicated player interface.</p>"},{"location":"user-guide/playlists/#playlist-format","title":"Playlist Format","text":"<p>Playlists are plain text files with a <code>.playlist</code> extension. Each line contains the path to a video file, relative to the playlist file location.</p>"},{"location":"user-guide/playlists/#example-playlist","title":"Example Playlist","text":"<p>Create a file named <code>my-playlist.playlist</code>:</p> <pre><code>video1.mp4\nvideo2.mp4\nsubfolder/video3.mp4\n../other-folder/video4.mp4\n</code></pre>"},{"location":"user-guide/playlists/#path-rules","title":"Path Rules","text":"<ul> <li>Paths are relative to the playlist file location</li> <li>Use forward slashes (<code>/</code>) for directory separators</li> <li>Lines starting with <code>#</code> are treated as comments</li> <li>Empty lines are ignored</li> <li>Videos that cannot be found are marked as unavailable</li> </ul>"},{"location":"user-guide/playlists/#playing-playlists","title":"Playing Playlists","text":""},{"location":"user-guide/playlists/#opening-a-playlist","title":"Opening a Playlist","text":"<p>Click any playlist item in the gallery to open the playlist player.</p>"},{"location":"user-guide/playlists/#player-interface","title":"Player Interface","text":"<p>The playlist player displays:</p> <ul> <li>Video area: The currently playing video</li> <li>Playlist sidebar: List of all videos in the playlist</li> <li>Playback controls: Previous, play/pause, next buttons</li> </ul>"},{"location":"user-guide/playlists/#navigation","title":"Navigation","text":"<ul> <li>Click any video in the sidebar to jump to it</li> <li>Use the previous/next buttons to navigate sequentially</li> <li>Videos auto-advance when playback completes</li> </ul>"},{"location":"user-guide/playlists/#unavailable-videos","title":"Unavailable Videos","text":"<p>If a video in the playlist cannot be found:</p> <ul> <li>It appears grayed out with strikethrough text</li> <li>Clicking it has no effect</li> <li>Auto-advance skips unavailable videos</li> </ul>"},{"location":"user-guide/playlists/#playlist-sidebar","title":"Playlist Sidebar","text":""},{"location":"user-guide/playlists/#desktop-view","title":"Desktop View","text":"<p>On desktop, the playlist sidebar is always visible alongside the video.</p>"},{"location":"user-guide/playlists/#mobilelandscape-view","title":"Mobile/Landscape View","text":"<p>In landscape orientation on mobile:</p> <ul> <li>The sidebar is hidden by default</li> <li>Tap the playlist icon to show/hide the sidebar</li> <li>Swipe from the right edge to reveal the sidebar</li> </ul>"},{"location":"user-guide/playlists/#video-information","title":"Video Information","text":"<p>Each playlist entry shows:</p> <ul> <li>Video filename</li> <li>Tags (if the video has tags)</li> </ul>"},{"location":"user-guide/playlists/#creating-playlists","title":"Creating Playlists","text":""},{"location":"user-guide/playlists/#manual-creation","title":"Manual Creation","text":"<ol> <li>Create a new text file with the <code>.playlist</code> extension</li> <li>Add video paths, one per line</li> <li>Save the file in your media library</li> <li>Refresh Media Viewer to see the playlist</li> </ol>"},{"location":"user-guide/playlists/#tips-for-playlists","title":"Tips for Playlists","text":"<ul> <li>Keep playlist files in the same folder as the videos for simpler paths</li> <li>Use descriptive playlist names</li> <li>Add comments to document the playlist purpose:</li> </ul> <pre><code># Summer vacation highlights\n\n# Created: 2024-07-15\n\nbeach-day.mp4\nhiking-trip.mp4\nsunset-timelapse.mp4\n</code></pre>"},{"location":"user-guide/playlists/#playback-features","title":"Playback Features","text":""},{"location":"user-guide/playlists/#auto-advance","title":"Auto-Advance","text":"<p>Videos automatically advance to the next item when playback completes. The playlist loops back to the beginning after the last video.</p>"},{"location":"user-guide/playlists/#video-controls","title":"Video Controls","text":"<p>Standard video controls are available:</p> <ul> <li>Play/pause</li> <li>Seek bar</li> <li>Volume control</li> <li>Fullscreen toggle</li> </ul>"},{"location":"user-guide/playlists/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"<p>While the playlist player is open:</p> Key Action ++space++ Play/pause ++left++ Previous video ++right++ Next video ++escape++ Close player"},{"location":"user-guide/search/","title":"Search","text":"<p>Media Viewer provides powerful search capabilities to quickly find media in your library.</p>"},{"location":"user-guide/search/#basic-search","title":"Basic Search","text":"<p>Type in the search box at the top of the page to search by filename.</p> <ul> <li>Search is case-insensitive</li> <li>Partial matches are supported</li> <li>Results update as you type</li> </ul>"},{"location":"user-guide/search/#search-dropdown","title":"Search Dropdown","text":"<p>As you type, a dropdown shows matching results:</p> <ul> <li>Up to 10 items are shown</li> <li>Results include thumbnail, name, and path</li> <li>Favorited items show a star indicator</li> <li>Click any result to open it directly</li> <li>Press ++enter++ to see all results</li> </ul>"},{"location":"user-guide/search/#full-results-view","title":"Full Results View","text":"<p>Press ++enter++ or click \"View all results\" to open the full search results view:</p> <ul> <li>Results display in a gallery grid</li> <li>Use the same interactions as the main gallery</li> <li>Click \"Close\" or press ++escape++ to return to browsing</li> </ul>"},{"location":"user-guide/search/#tag-search","title":"Tag Search","text":"<p>Search for items with specific tags using the <code>tag:</code> prefix:</p> <pre><code>tag:vacation\n</code></pre>"},{"location":"user-guide/search/#tag-suggestions","title":"Tag Suggestions","text":"<p>When you type <code>tag:</code>, suggestions appear showing:</p> <ul> <li>Matching tag names</li> <li>Number of items with each tag</li> </ul> <p>Click a suggestion to search for that tag.</p>"},{"location":"user-guide/search/#clicking-tags","title":"Clicking Tags","text":"<p>You can also search by clicking:</p> <ul> <li>Any tag displayed on a gallery item</li> <li>Any tag in the tag manager modal</li> <li>Any tag in the lightbox</li> </ul>"},{"location":"user-guide/search/#search-syntax","title":"Search Syntax","text":""},{"location":"user-guide/search/#by-filename","title":"By Filename","text":"<pre><code>sunset\n</code></pre> <p>Finds items with \"sunset\" anywhere in the filename.</p>"},{"location":"user-guide/search/#by-tag","title":"By Tag","text":"<pre><code>tag:nature\n</code></pre> <p>Finds items tagged with \"nature\".</p>"},{"location":"user-guide/search/#by-type","title":"By Type","text":"<p>Use the filter dropdown to restrict results to specific types:</p> <ul> <li>Images only</li> <li>Videos only</li> <li>Playlists only</li> </ul>"},{"location":"user-guide/search/#search-tips","title":"Search Tips","text":""},{"location":"user-guide/search/#finding-recent-additions","title":"Finding Recent Additions","text":"<ol> <li>Sort by Date (descending)</li> <li>The newest items appear first</li> </ol>"},{"location":"user-guide/search/#finding-large-files","title":"Finding Large Files","text":"<ol> <li>Sort by Size (descending)</li> <li>Filter by type if needed</li> </ol>"},{"location":"user-guide/search/#organizing-with-search","title":"Organizing with Search","text":"<p>Use search to find items that need organization:</p> <ol> <li>Search for items without tags (browse and look for items missing tags)</li> <li>Use selection mode to tag multiple items at once</li> </ol>"},{"location":"user-guide/search/#search-behavior","title":"Search Behavior","text":""},{"location":"user-guide/search/#scope","title":"Scope","text":"<p>Search covers your entire media library, not just the current folder.</p>"},{"location":"user-guide/search/#results","title":"Results","text":"<p>Search results include:</p> <ul> <li>Files (images, videos)</li> <li>Folders</li> <li>Playlists</li> </ul>"},{"location":"user-guide/search/#performance","title":"Performance","text":"<ul> <li>Search uses an index for fast results</li> <li>The index updates automatically when files change</li> <li>Large libraries may have a brief delay on first search</li> </ul>"},{"location":"user-guide/tagging/","title":"Tagging","text":"<p>Tags are labels you assign to media items for organization and quick retrieval. Media Viewer provides a flexible tagging system that supports individual and bulk operations.</p>"},{"location":"user-guide/tagging/#understanding-tags","title":"Understanding Tags","text":"<ul> <li>Tags are simple text labels (e.g., \"vacation\", \"family\", \"2024\")</li> <li>An item can have multiple tags</li> <li>Tags are shared across your entire library</li> <li>Tags are case-sensitive (\"Vacation\" and \"vacation\" are different tags)</li> </ul>"},{"location":"user-guide/tagging/#adding-tags","title":"Adding Tags","text":""},{"location":"user-guide/tagging/#from-the-gallery","title":"From the Gallery","text":"<ol> <li>Hover over an item to reveal the tag button (tag icon in the top-left corner)</li> <li>Click the tag button to open the tag manager</li> <li>Type a tag name in the input field</li> <li>Press ++enter++ or click Add</li> <li>Repeat for additional tags</li> <li>Click outside the modal or press ++escape++ to close</li> </ol>"},{"location":"user-guide/tagging/#from-the-lightbox","title":"From the Lightbox","text":"<ol> <li>Open an item in the lightbox</li> <li>Click the tag icon in the top-left area</li> <li>Add tags using the same process as above</li> </ol>"},{"location":"user-guide/tagging/#tag-suggestions","title":"Tag Suggestions","text":"<p>As you type, existing tags that match your input appear as suggestions. Click a suggestion to add that tag, or continue typing to create a new tag.</p>"},{"location":"user-guide/tagging/#removing-tags","title":"Removing Tags","text":""},{"location":"user-guide/tagging/#from-the-tag-manager","title":"From the Tag Manager","text":"<ol> <li>Open the tag manager for an item</li> <li>Click the X on any tag chip to remove it</li> </ol>"},{"location":"user-guide/tagging/#from-the-gallery-desktop","title":"From the Gallery (Desktop)","text":"<p>On desktop, tags are displayed on gallery items with a \"X | tag\" format:</p> <ol> <li>Hover over a tag on any gallery item</li> <li>Click the X on the left side of the tag to remove it</li> </ol>"},{"location":"user-guide/tagging/#from-the-tag-tooltip","title":"From the Tag Tooltip","text":"<p>When an item has more than 3 tags, a \"+N\" indicator appears:</p> <ol> <li>Click the \"+N\" indicator to see all tags</li> <li>Click the X on any tag to remove it</li> </ol>"},{"location":"user-guide/tagging/#bulk-tagging","title":"Bulk Tagging","text":"<p>Selection mode allows you to tag multiple items at once.</p>"},{"location":"user-guide/tagging/#entering-selection-mode","title":"Entering Selection Mode","text":"<ul> <li>Desktop: Click the checkbox area on any gallery item</li> <li>Mobile: Long-press any item</li> </ul>"},{"location":"user-guide/tagging/#tagging-selected-items","title":"Tagging Selected Items","text":"<ol> <li>Select the items you want to tag</li> <li>Click the Tag button in the selection toolbar</li> <li>Add tags in the bulk tag modal</li> <li>Tags are applied to all selected items</li> </ol>"},{"location":"user-guide/tagging/#tag-indicators-in-bulk-mode","title":"Tag Indicators in Bulk Mode","text":"<p>When tagging multiple items, the modal shows:</p> <ul> <li>Tags common to all selected items</li> <li>Tags present on some items (marked with a \"~\" indicator)</li> </ul>"},{"location":"user-guide/tagging/#copying-and-pasting-tags","title":"Copying and Pasting Tags","text":"<p>Media Viewer supports copying tags from one item and pasting them to others.</p>"},{"location":"user-guide/tagging/#copying-tags","title":"Copying Tags","text":"<ol> <li>Enter selection mode</li> <li>Select a single item</li> <li>Click Copy Tags or press ++ctrl+c++</li> </ol>"},{"location":"user-guide/tagging/#pasting-tags","title":"Pasting Tags","text":"<ol> <li>With tags copied, select destination item(s)</li> <li>Click Paste Tags or press ++ctrl+v++</li> <li>In the confirmation modal, select which tags to paste</li> <li>Click Paste Tags to apply</li> </ol>"},{"location":"user-guide/tagging/#merging-tags","title":"Merging Tags","text":"<p>When multiple items are selected, you can merge all their tags:</p> <ol> <li>Select 2 or more items</li> <li>Click Merge Tags or press ++ctrl+m++</li> <li>The modal shows all unique tags from selected items</li> <li>Tags not on all items show a count (e.g., \"nature (2/3)\")</li> <li>Select tags to apply and click Merge Tags</li> </ol> <p>All selected tags are applied to all selected items.</p>"},{"location":"user-guide/tagging/#searching-by-tag","title":"Searching by Tag","text":"<p>Click any tag to search for all items with that tag. Alternatively, use the search box with the <code>tag:</code> prefix:</p> <pre><code>tag:vacation\n</code></pre> <p>See Search for more search options.</p>"},{"location":"user-guide/tagging/#tag-management-tips","title":"Tag Management Tips","text":"<ul> <li>Use consistent naming conventions (e.g., always lowercase)</li> <li>Create a hierarchy with prefixes (e.g., \"location-beach\", \"location-mountain\")</li> <li>Use year tags for chronological organization (e.g., \"2024\", \"2023\")</li> <li>Combine tags for precise filtering (search for multiple tags)</li> </ul>"},{"location":"user-guide/webauthn/","title":"WebAuthn (Passkey) Authentication User Guide","text":""},{"location":"user-guide/webauthn/#for-end-users","title":"For End Users","text":""},{"location":"user-guide/webauthn/#registering-a-passkey","title":"Registering a Passkey","text":"<ol> <li>Log in with your password</li> <li>Open Settings (\u2699\ufe0f icon in top-right)</li> <li>Navigate to \"Passkeys\" tab</li> <li>Click \"Add Passkey\"</li> <li>Name your passkey (e.g., \"MacBook Pro\", \"iPhone 14\", \"YubiKey\")</li> <li>Complete authentication:<ul> <li>Touch ID/Face ID prompt on Apple devices</li> <li>Windows Hello prompt on Windows</li> <li>Fingerprint prompt on Android</li> <li>Insert and tap security key if using external authenticator</li> </ul> </li> </ol>"},{"location":"user-guide/webauthn/#logging-in-with-a-passkey","title":"Logging In with a Passkey","text":"<p>Method 1: Auto-prompt (Firefox and older browsers)</p> <ol> <li>Navigate to login page</li> <li>Wait for passkey prompt to appear automatically</li> <li>Complete biometric authentication or tap security key</li> </ol> <p>Method 2: Autofill (Chrome, Safari, Edge)</p> <ol> <li>Navigate to login page</li> <li>Click or tap in the password field</li> <li>Select your passkey from the autofill dropdown</li> <li>Complete biometric authentication</li> </ol> <p>Method 3: Manual button</p> <ol> <li>Navigate to login page</li> <li>Click \"Sign in with Passkey\" button</li> <li>Complete biometric authentication or tap security key</li> </ol> <p>Fallback: Password</p> <ul> <li>You can always use your password if passkeys fail</li> <li>Password field remains available even with passkeys registered</li> </ul>"},{"location":"user-guide/webauthn/#managing-passkeys","title":"Managing Passkeys","text":"<p>View registered passkeys:</p> <ul> <li>Settings \u2192 Passkeys tab</li> <li>See device names, creation dates, and last used dates</li> </ul> <p>Delete a passkey:</p> <ul> <li>Click trash icon next to the passkey</li> <li>Confirm deletion</li> <li>The device/key will no longer be able to sign in</li> </ul> <p>Best practices:</p> <ul> <li>Register passkeys on devices you frequently use</li> <li>Use descriptive names (\"Work MacBook\", \"Personal iPhone\")</li> <li>Remove passkeys for lost or sold devices immediately</li> <li>Keep at least one backup authentication method</li> </ul>"},{"location":"user-guide/webauthn/#for-administrators","title":"For Administrators","text":""},{"location":"user-guide/webauthn/#initial-setup","title":"Initial Setup","text":"<ol> <li>Enable HTTPS on your server (required for production)</li> <li>Set environment variables (see Configuration section)</li> <li>Restart the application</li> <li>Verify configuration in application logs:</li> </ol>"}]}